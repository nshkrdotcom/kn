<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f5f7fa"/>
  
  <!-- Header Bar -->
  <rect x="0" y="0" width="1200" height="60" fill="#2d3748"/>
  <text x="30" y="38" font-family="Arial" font-size="24" fill="white">ContextNexus</text>
  <text x="200" y="38" font-family="Arial" font-size="16" fill="#a0aec0">Dynamic Knowledge Management System</text>
  
  <!-- View Options -->
  <rect x="650" y="15" width="100" height="30" rx="15" fill="#4a5568"/>
  <text x="700" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Knowledge</text>
  
  <rect x="760" y="15" width="100" height="30" rx="15" fill="#2d3748"/>
  <text x="810" y="35" font-family="Arial" font-size="14" fill="#a0aec0" text-anchor="middle">Analytics</text>
  
  <rect x="870" y="15" width="100" height="30" rx="15" fill="#2d3748"/>
  <text x="920" y="35" font-family="Arial" font-size="14" fill="#a0aec0" text-anchor="middle">Settings</text>
  
  <!-- User Menu -->
  <circle cx="1150" cy="30" r="20" fill="#4fd1c5"/>
  <text x="1150" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Main Split View -->
  <!-- Left Panel - Knowledge Hierarchy -->
  <rect x="0" y="60" width="350" height="740" fill="#e2e8f0"/>
  
  <!-- Hierarchy Header -->
  <rect x="0" y="60" width="350" height="50" fill="#4a5568"/>
  <text x="20" y="90" font-family="Arial" font-size="18" fill="white">Context Hierarchy</text>
  
  <!-- View Selector -->
  <rect x="210" y="70" width="40" height="30" rx="5" fill="#718096"/>
  <text x="230" y="90" font-family="Arial" font-size="14" fill="white" text-anchor="middle">H</text>
  
  <rect x="260" y="70" width="40" height="30" rx="5" fill="#4a5568"/>
  <text x="280" y="90" font-family="Arial" font-size="14" fill="white" text-anchor="middle">G</text>
  
  <rect x="310" y="70" width="30" height="30" rx="5" fill="#4a5568"/>
  <text x="325" y="90" font-family="Arial" font-size="14" fill="white" text-anchor="middle">M</text>
  
  <!-- Search & Filter -->
  <rect x="20" y="125" width="310" height="35" rx="5" fill="white"/>
  <text x="40" y="147" font-family="Arial" font-size="14" fill="#a0aec0">Search or filter context...</text>
  
  <!-- Hierarchy Tree -->
  <!-- Domain 1 -->
  <rect x="20" y="170" width="310" height="40" rx="5" fill="#4299e1"/>
  <text x="45" y="195" font-family="Arial" font-size="16" fill="white">Project Alpha</text>
  <text x="25" y="195" font-family="Arial" font-size="16" fill="white">▼</text>
  <rect x="250" y="178" width="70" height="24" rx="12" fill="rgba(255,255,255,0.3)"/>
  <text x="285" y="195" font-family="Arial" font-size="12" fill="white" text-anchor="middle">90% rel</text>
  
  <!-- Concept 1.1 -->
  <rect x="40" y="220" width="290" height="35" rx="5" fill="#63b3ed"/>
  <text x="65" y="243" font-family="Arial" font-size="14" fill="white">Requirements</text>
  <text x="45" y="243" font-family="Arial" font-size="14" fill="white">▼</text>
  <rect x="260" y="225" width="60" height="24" rx="12" fill="rgba(255,255,255,0.2)"/>
  <text x="290" y="243" font-family="Arial" font-size="12" fill="white" text-anchor="middle">75%</text>
  
  <!-- Detail 1.1.1 -->
  <rect x="60" y="265" width="270" height="30" rx="5" fill="#90cdf4"/>
  <text x="80" y="285" font-family="Arial" font-size="12" fill="#2d3748">User Stories</text>
  <text x="65" y="285" font-family="Arial" font-size="12" fill="#2d3748">▶</text>
  <rect x="230" y="270" width="90" height="20" rx="10" fill="#4299e1"/>
  <text x="275" y="285" font-family="Arial" font-size="10" fill="white" text-anchor="middle">In Context</text>
  
  <!-- Detail 1.1.2 -->
  <rect x="60" y="305" width="270" height="30" rx="5" fill="#90cdf4"/>
  <text x="80" y="325" font-family="Arial" font-size="12" fill="#2d3748">Technical Specs</text>
  <text x="65" y="325" font-family="Arial" font-size="12" fill="#2d3748">▶</text>
  <rect x="230" y="310" width="90" height="20" rx="10" fill="#4299e1"/>
  <text x="275" y="325" font-family="Arial" font-size="10" fill="white" text-anchor="middle">In Context</text>
  
  <!-- Concept 1.2 -->
  <rect x="40" y="345" width="290" height="35" rx="5" fill="#63b3ed"/>
  <text x="65" y="368" font-family="Arial" font-size="14" fill="white">Architecture</text>
  <text x="45" y="368" font-family="Arial" font-size="14" fill="white">▼</text>
  <rect x="260" y="350" width="60" height="24" rx="12" fill="rgba(255,255,255,0.3)"/>
  <text x="290" y="368" font-family="Arial" font-size="12" fill="white" text-anchor="middle">85%</text>
  
  <!-- Detail 1.2.1 -->
  <rect x="60" y="390" width="270" height="30" rx="5" fill="#90cdf4"/>
  <text x="80" y="410" font-family="Arial" font-size="12" fill="#2d3748">Database Schema</text>
  <text x="65" y="410" font-family="Arial" font-size="12" fill="#2d3748">▼</text>
  <circle cx="315" cy="405" r="8" fill="#f6ad55"/>
  <text x="315" y="409" font-family="Arial" font-size="12" fill="white" text-anchor="middle">*</text>
  
  <!-- Detail 1.2.1.1 -->
  <rect x="80" y="430" width="250" height="30" rx="5" fill="#bee3f8"/>
  <text x="100" y="450" font-family="Arial" font-size="12" fill="#2d3748">User Tables</text>
  <text x="85" y="450" font-family="Arial" font-size="12" fill="#2d3748">▶</text>
  
  <!-- Detail 1.2.1.2 -->
  <rect x="80" y="470" width="250" height="30" rx="5" fill="#bee3f8"/>
  <text x="100" y="490" font-family="Arial" font-size="12" fill="#2d3748">Content Models</text>
  <text x="85" y="490" font-family="Arial" font-size="12" fill="#2d3748">▶</text>
  
  <!-- Detail 1.2.2 -->
  <rect x="60" y="510" width="270" height="30" rx="5" fill="#90cdf4"/>
  <text x="80" y="530" font-family="Arial" font-size="12" fill="#2d3748">API Design</text>
  <text x="65" y="530" font-family="Arial" font-size="12" fill="#2d3748">▶</text>
  <rect x="230" y="515" width="90" height="20" rx="10" fill="#4299e1"/>
  <text x="275" y="530" font-family="Arial" font-size="10" fill="white" text-anchor="middle">In Context</text>
  
  <!-- Domain 2 -->
  <rect x="20" y="550" width="310" height="40" rx="5" fill="#9f7aea"/>
  <text x="45" y="575" font-family="Arial" font-size="16" fill="white">Research Notes</text>
  <text x="25" y="575" font-family="Arial" font-size="16" fill="white">▶</text>
  <rect x="250" y="558" width="70" height="24" rx="12" fill="rgba(255,255,255,0.2)"/>
  <text x="285" y="575" font-family="Arial" font-size="12" fill="white" text-anchor="middle">40% rel</text>
  
  <!-- Context Control -->
  <rect x="20" y="600" width="310" height="30" rx="5" fill="#4a5568"/>
  <text x="30" y="620" font-family="Arial" font-size="14" fill="white">Active Filters:</text>
  
  <rect x="140" y="602" width="70" height="26" rx="13" fill="#4299e1"/>
  <text x="175" y="620" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Technical</text>
  
  <rect x="220" y="602" width="100" height="26" rx="13" fill="#48bb78"/>
  <text x="270" y="620" font-family="Arial" font-size="12" fill="white" text-anchor="middle">High Priority</text>
  
  <!-- Context Status -->
  <rect x="20" y="640" width="310" height="60" rx="5" fill="#e2e8f0"/>
  <text x="30" y="660" font-family="Arial" font-size="14" fill="#4a5568" font-weight="bold">Context Usage:</text>
  <rect x="30" y="670" width="290" height="10" rx="5" fill="#cbd5e0"/>
  <rect x="30" y="670" width="230" height="10" rx="5" fill="#4299e1"/>
  <text x="30" y="690" font-family="Arial" font-size="12" fill="#4a5568">7,200/10,000 tokens (72%)</text>
  <text x="280" y="690" font-family="Arial" font-size="12" fill="#4a5568" text-anchor="end">18 nodes</text>
  
  <!-- Context Actions -->
  <rect x="20" y="710" width="310" height="80" rx="5" fill="#f7fafc"/>
  <text x="30" y="730" font-family="Arial" font-size="14" fill="#4a5568" font-weight="bold">Context Actions:</text>
  
  <rect x="30" y="740" width="145" height="35" rx="5" fill="#4299e1"/>
  <text x="102" y="762" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Optimize Context</text>
  
  <rect x="185" y="740" width="135" height="35" rx="5" fill="#48bb78"/>
  <text x="252" y="762" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Create Branch</text>
  
  <!-- Center Panel - Conversation -->
  <rect x="350" y="60" width="500" height="740" fill="white"/>
  
  <!-- Conversation Header -->
  <rect x="350" y="60" width="500" height="50" fill="#f7fafc"/>
  <text x="370" y="90" font-family="Arial" font-size="18" fill="#2d3748">Main Thread: Project Alpha</text>
  
  <!-- Thread Options -->
  <rect x="700" y="70" width="35" height="30" rx="5" fill="#e2e8f0"/>
  <text x="717" y="90" font-family="Arial" font-size="18" fill="#4a5568" text-anchor="middle">+</text>
  
  <rect x="745" y="70" width="35" height="30" rx="5" fill="#e2e8f0"/>
  <text x="762" y="90" font-family="Arial" font-size="18" fill="#4a5568" text-anchor="middle">⋮</text>
  
  <rect x="790" y="70" width="40" height="30" rx="5" fill="#e2e8f0"/>
  <text x="810" y="90" font-family="Arial" font-size="14" fill="#4a5568" text-anchor="middle">1/3</text>
  
  <!-- Context Path -->
  <rect x="370" y="120" width="460" height="30" rx="5" fill="#ebf8ff"/>
  <text x="390" y="140" font-family="Arial" font-size="14" fill="#2d3748">Active Context: Project Alpha > Architecture > Database Schema</text>
  
  <!-- Messages Container -->
  <rect x="370" y="160" width="460" height="480" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Message 1 -->
  <rect x="390" y="180" width="360" height="70" rx="10" fill="#f7fafc"/>
  <circle cx="410" cy="200" r="15" fill="#4fd1c5"/>
  <text x="435" y="200" font-family="Arial" font-size="14" font-weight="bold" fill="#2d3748">You</text>
  <text x="435" y="225" font-family="Arial" font-size="14" fill="#4a5568">How should we optimize the database schema for scalability while maintaining query performance?</text>
  <text x="730" y="235" font-family="Arial" font-size="12" fill="#a0aec0">10:15 AM</text>
  
  <!-- Message 2 -->
  <rect x="390" y="260" width="420" height="190" rx="10" fill="#f0f9ff"/>
  <circle cx="410" cy="280" r="15" fill="#3182ce"/>
  <text x="435" y="280" font-family="Arial" font-size="14" font-weight="bold" fill="#2d3748">ContextNexus AI</text>
  <text x="435" y="305" font-family="Arial" font-size="14" fill="#4a5568">Based on your schema design and requirements, I recommend a sharded approach with these optimizations:</text>
  
  <text x="435" y="335" font-family="Arial" font-size="14" fill="#4a5568">1. Partition the content tables by date range</text>
  <text x="435" y="365" font-family="Arial" font-size="14" fill="#4a5568">2. Implement read replicas for heavy query loads</text>
  <text x="435" y="395" font-family="Arial" font-size="14" fill="#4a5568">3. Use materialized views for reporting queries</text>
  
  <!-- Knowledge Reference -->
  <rect x="435" y="415" width="180" height="25" rx="5" fill="#e6fffa"/>
  <text x="450" y="432" font-family="Arial" font-size="12" fill="#2d3748">🔗 Content Models</text>
  
  <text x="790" y="435" font-family="Arial" font-size="12" fill="#a0aec0">10:16 AM</text>
  
  <!-- Message 3 -->
  <rect x="390" y="460" width="360" height="70" rx="10" fill="#f7fafc"/>
  <circle cx="410" cy="480" r="15" fill="#4fd1c5"/>
  <text x="435" y="480" font-family="Arial" font-size="14" font-weight="bold" fill="#2d3748">You</text>
  <text x="435" y="505" font-family="Arial" font-size="14" fill="#4a5568">How would that impact our versioning strategy for content objects?</text>
  <text x="730" y="515" font-family="Arial" font-size="12" fill="#a0aec0">10:18 AM</text>
  
  <!-- Message 4 -->
  <rect x="390" y="540" width="420" height="90" rx="10" fill="#f0f9ff"/>
  <circle cx="410" cy="560" r="15" fill="#3182ce"/>
  <text x="435" y="560" font-family="Arial" font-size="14" font-weight="bold" fill="#2d3748">ContextNexus AI</text>
  <text x="435" y="585" font-family="Arial" font-size="14" fill="#4a5568">For versioning with this approach, I recommend implementing...</text>
  <text x="435" y="615" font-family="Arial" font-size="14" fill="#4a5568">[Currently typing...]</text>
  
  <!-- Conversation Actions -->
  <rect x="370" y="650" width="460" height="50" rx="5" fill="#f7fafc"/>
  
  <rect x="390" y="660" width="140" height="30" rx="5" fill="#4299e1"/>
  <text x="460" y="680" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Branch Topic</text>
  
  <rect x="540" y="660" width="140" height="30" rx="5" fill="#48bb78"/>
  <text x="610" y="680" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Save Insight</text>
  
  <!-- Input Container -->
  <rect x="370" y="710" width="460" height="80" rx="10" fill="#f7fafc"/>
  <rect x="390" y="725" width="420" height="50" rx="25" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  <text x="410" y="755" font-family="Arial" font-size="14" fill="#a0aec0">Type your message...</text>
  <rect x="720" y="735" width="80" height="30" rx="15" fill="#4299e1"/>
  <text x="760" y="755" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Send</text>
  
  <!-- Right Panel - Context Inspector -->
  <rect x="850" y="60" width="350" height="740" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Inspector Header -->
  <rect x="850" y="60" width="350" height="50" fill="#f7fafc"/>
  <text x="880" y="90" font-family="Arial" font-size="18" fill="#2d3748">Context Inspector</text>
  
  <!-- Currently Inspecting -->
  <rect x="870" y="120" width="310" height="80" rx="5" fill="#f7fafc"/>
  <text x="890" y="140" font-family="Arial" font-size="16" fill="#2d3748" font-weight="bold">Database Schema</text>
  <text x="890" y="165" font-family="Arial" font-size="14" fill="#4a5568">Path: Project Alpha > Architecture</text>
  <text x="890" y="190" font-family="Arial" font-size="14" fill="#4a5568">Added: March 10, 2025 • Last modified: 6 hours ago</text>
  
  <!-- Item Status -->
  <rect x="870" y="210" width="310" height="60" rx="5" fill="#ebf8ff"/>
  <text x="890" y="230" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Status:</text>
  <text x="950" y="230" font-family="Arial" font-size="14" fill="#4299e1">In current context</text>
  <text x="890" y="255" font-family="Arial" font-size="14" fill="#2d3748">Relevance:</text>
  <rect x="970" y="242" width="120" height="15" rx="7.5" fill="#e2e8f0"/>
  <rect x="970" y="242" width="102" height="15" rx="7.5" fill="#4299e1"/>
  <text x="1100" y="255" font-family="Arial" font-size="14" fill="#2d3748">85%</text>
  
  <!-- Item Tags -->
  <rect x="870" y="280" width="310" height="80" rx="5" fill="#f7fafc"/>
  <text x="890" y="300" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Tags:</text>
  
  <rect x="890" y="310" width="90" height="30" rx="15" fill="#4299e1"/>
  <text x="935" y="330" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Technical</text>
  
  <rect x="990" y="310" width="70" height="30" rx="15" fill="#ed8936"/>
  <text x="1025" y="330" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Core</text>
  
  <rect x="1070" y="310" width="100" height="30" rx="15" fill="#48bb78"/>
  <text x="1120" y="330" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Database</text>
  
  <!-- Related Items -->
  <rect x="870" y="370" width="310" height="150" rx="5" fill="#f7fafc"/>
  <text x="890" y="390" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Related Knowledge:</text>
  
  <!-- Relation 1 -->
  <rect x="890" y="405" width="290" height="35" rx="5" fill="#e6fffa"/>
  <text x="910" y="428" font-family="Arial" font-size="14" fill="#2d3748">User Tables</text>
  <rect x="1080" y="410" width="90" height="25" rx="12.5" fill="#e2e8f0"/>
  <text x="1125" y="428" font-family="Arial" font-size="12" fill="#4a5568" text-anchor="middle">Child Node</text>
  
  <!-- Relation 2 -->
  <rect x="890" y="450" width="290" height="35" rx="5" fill="#e6fffa"/>
  <text x="910" y="473" font-family="Arial" font-size="14" fill="#2d3748">Content Models</text>
  <rect x="1080" y="455" width="90" height="25" rx="12.5" fill="#e2e8f0"/>
  <text x="1125" y="473" font-family="Arial" font-size="12" fill="#4a5568" text-anchor="middle">Child Node</text>
  
  <!-- Relation 3 -->
  <rect x="890" y="495" width="290" height="35" rx="5" fill="#e6fffa"/>
  <text x="910" y="518" font-family="Arial" font-size="14" fill="#2d3748">API Design</text>
  <rect x="1080" y="500" width="90" height="25" rx="12.5" fill="#e2e8f0"/>
  <text x="1125" y="518" font-family="Arial" font-size="12" fill="#4a5568" text-anchor="middle">Related</text>
  
  <!-- Context Actions -->
  <rect x="870" y="530" width="310" height="120" rx="5" fill="#f7fafc"/>
  <text x="890" y="550" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Context Actions:</text>
  
  <rect x="890" y="565" width="145" height="35" rx="5" fill="#4299e1"/>
  <text x="962" y="587" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Remove From Context</text>
  
  <rect x="1045" y="565" width="135" height="35" rx="5" fill="#48bb78"/>
  <text x="1112" y="587" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Branch From Here</text>
  
  <rect x="890" y="610" width="290" height="35" rx="5" fill="#9f7aea"/>
  <text x="1035" y="632" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Set This as Main Context</text>
  
  <!-- Branching Preview -->
  <rect x="870" y="660" width="310" height="130" rx="5" fill="#fffaf0"/>
  <text x="890" y="680" font-family="Arial" font-size="14" fill="#ed8936" font-weight="bold">Branch Preview:</text>
  <text x="890" y="705" font-family="Arial" font-size="14" fill="#4a5568">Creating a branch from this node would:</text>
  <text x="910" y="730" font-family="Arial" font-size="14" fill="#4a5568">• Include 5 related knowledge nodes</text>
  <text x="910" y="755" font-family="Arial" font-size="14" fill="#4a5568">• Focus context on database architecture</text>
  <text x="910" y="780" font-family="Arial" font-size="14" fill="#4a5568">• Exclude ~60% of current context</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 840">
  <!-- Background -->
  <rect width="1200" height="840" fill="#f5f7fa"/>
  
  <!-- Header Bar -->
  <rect x="0" y="0" width="1200" height="60" fill="#2d3748"/>
  <text x="30" y="38" font-family="Arial" font-size="24" fill="white">ContextNexus</text>
  <text x="200" y="38" font-family="Arial" font-size="16" fill="#a0aec0">Dynamic Knowledge Management System</text>
  
  <!-- View Options -->
  <rect x="650" y="15" width="100" height="30" rx="15" fill="#4a5568"/>
  <text x="700" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Knowledge</text>
  
  <rect x="760" y="15" width="100" height="30" rx="15" fill="#2d3748"/>
  <text x="810" y="35" font-family="Arial" font-size="14" fill="#a0aec0" text-anchor="middle">Analytics</text>
  
  <rect x="870" y="15" width="100" height="30" rx="15" fill="#2d3748"/>
  <text x="920" y="35" font-family="Arial" font-size="14" fill="#a0aec0" text-anchor="middle">Settings</text>
  
  <!-- User Menu -->
  <circle cx="1150" cy="30" r="20" fill="#4fd1c5"/>
  <text x="1150" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Main Split View (Changed to Focus on Branching) -->
  <!-- Left Side - Knowledge Context Graph -->
  <rect x="0" y="60" width="450" height="740" fill="#e2e8f0"/>
  
  <!-- Graph Header -->
  <rect x="0" y="60" width="450" height="50" fill="#4a5568"/>
  <text x="20" y="90" font-family="Arial" font-size="18" fill="white">Knowledge Context Graph</text>
  
  <!-- View Controls -->
  <rect x="20" y="120" width="410" height="40" rx="5" fill="#4299e1"/>
  
  <rect x="30" y="125" width="30" height="30" rx="5" fill="#63b3ed"/>
  <text x="45" y="145" font-family="Arial" font-size="16" fill="white" text-anchor="middle">−</text>
  
  <rect x="70" y="125" width="30" height="30" rx="5" fill="#63b3ed"/>
  <text x="85" y="145" font-family="Arial" font-size="16" fill="white" text-anchor="middle">+</text>
  
  <rect x="110" y="125" width="60" height="30" rx="5" fill="#63b3ed"/>
  <text x="140" y="145" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Fit</text>
  
  <rect x="180" y="125" width="80" height="30" rx="5" fill="#63b3ed"/>
  <text x="220" y="145" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Main</text>
  
  <rect x="270" y="125" width="150" height="30" rx="5" fill="#63b3ed"/>
  <text x="345" y="145" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Branch Preview</text>
  
  <!-- Knowledge Graph Visualization -->
  <!-- The visualization shows branching structure from Main Context to a specialized context -->
  <!-- Main Context Node -->
  <circle cx="225" cy="220" r="40" fill="#4299e1"/>
  <text x="225" y="220" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Main</text>
  <text x="225" y="240" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Project Alpha</text>
  
  <!-- Main Context Components -->
  <circle cx="125" cy="300" r="25" fill="#63b3ed"/>
  <text x="125" y="305" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Req.</text>
  <line x1="195" y1="250" x2="135" y2="285" stroke="#90cdf4" stroke-width="2"/>
  
  <circle cx="225" cy="320" r="30" fill="#63b3ed" stroke="#f6ad55" stroke-width="3"/>
  <text x="225" y="325" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Arch.</text>
  <line x1="225" y1="260" x2="225" y2="290" stroke="#90cdf4" stroke-width="3"/>
  
  <circle cx="325" cy="300" r="25" fill="#63b3ed"/>
  <text x="325" y="305" font-family="Arial" font-size="12" fill="white" text-anchor="middle">UI</text>
  <line x1="255" y1="250" x2="315" y2="285" stroke="#90cdf4" stroke-width="2"/>
  
  <!-- Architecture Sub-components -->
  <circle cx="155" cy="400" r="22" fill="#90cdf4"/>
  <text x="155" y="405" font-family="Arial" font-size="10" fill="#2d3748" text-anchor="middle">API</text>
  <line x1="205" y1="340" x2="165" y2="385" stroke="#bee3f8" stroke-width="2"/>
  
  <circle cx="225" cy="420" r="25" fill="#90cdf4" stroke="#f6ad55" stroke-width="3"/>
  <text x="225" y="425" font-family="Arial" font-size="10" fill="#2d3748" text-anchor="middle">DB</text>
  <line x1="225" y1="350" x2="225" y2="395" stroke="#bee3f8" stroke-width="3"/>
  
  <circle cx="295" cy="400" r="22" fill="#90cdf4"/>
  <text x="295" y="405" font-family="Arial" font-size="10" fill="#2d3748" text-anchor="middle">Auth</text>
  <line x1="245" y1="340" x2="285" y2="385" stroke="#bee3f8" stroke-width="2"/>
  
  <!-- Database Sub-components -->
  <circle cx="170" cy="490" r="18" fill="#bee3f8"/>
  <text x="170" y="495" font-family="Arial" font-size="9" fill="#2d3748" text-anchor="middle">Users</text>
  <line x1="210" y1="440" x2="180" y2="475" stroke="#e6fffa" stroke-width="2"/>
  
  <circle cx="225" cy="510" r="20" fill="#bee3f8" stroke="#48bb78" stroke-width="3"/>
  <text x="225" y="515" font-family="Arial" font-size="9" fill="#2d3748" text-anchor="middle">Content</text>
  <line x1="225" y1="445" x2="225" y2="490" stroke="#e6fffa" stroke-width="3"/>
  
  <circle cx="280" cy="490" r="18" fill="#bee3f8"/>
  <text x="280" y="495" font-family="Arial" font-size="9" fill="#2d3748" text-anchor="middle">Auth</text>
  <line x1="240" y1="440" x2="270" y2="475" stroke="#e6fffa" stroke-width="2"/>
  
  <!-- Branch Context -->
  <circle cx="350" cy="450" r="35" fill="#ed8936" stroke="#2d3748" stroke-dasharray="5,5" stroke-width="2"/>
  <text x="350" y="445" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Branch</text>
  <text x="350" y="465" font-family="Arial" font-size="10" fill="white" text-anchor="middle">DB Schema</text>
  
  <!-- Branch Connection -->
  <line x1="250" y1="420" x2="320" y2="440" stroke="#f6ad55" stroke-width="3" stroke-dasharray="5,3"/>
  
  <!-- Branch Components (Connected to Branch) -->
  <circle cx="350" cy="530" r="20" fill="#f6ad55" stroke="#2d3748" stroke-dasharray="5,5" stroke-width="2"/>
  <text x="350" y="535" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Content</text>
  <line x1="350" y1="485" x2="350" y2="510" stroke="#fbd38d" stroke-width="2" stroke-dasharray="5,3"/>
  
  <circle cx="410" cy="500" r="18" fill="#f6ad55" stroke="#2d3748" stroke-dasharray="5,5" stroke-width="2"/>
  <text x="410" y="505" font-family="Arial" font-size="9" fill="white" text-anchor="middle">Scaling</text>
  <line x1="380" y1="470" x2="400" y2="490" stroke="#fbd38d" stroke-width="2" stroke-dasharray="5,3"/>
  
  <circle cx="430" cy="560" r="18" fill="#f6ad55" stroke="#2d3748" stroke-dasharray="5,5" stroke-width="2"/>
  <text x="430" y="565" font-family="Arial" font-size="9" fill="white" text-anchor="middle">Version</text>
  <line x1="370" y1="540" x2="420" y2="555" stroke="#fbd38d" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- Legend -->
  <rect x="20" y="650" width="410" height="130" rx="5" fill="white"/>
  <text x="40" y="675" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Graph Legend:</text>
  
  <circle cx="50" cy="700" r="15" fill="#4299e1"/>
  <text x="80" y="705" font-family="Arial" font-size="14" fill="#2d3748">Main Context Node</text>
  
  <circle cx="50" cy="730" r="15" fill="#ed8936"/>
  <text x="80" y="735" font-family="Arial" font-size="14" fill="#2d3748">Branch Context Node</text>
  
  <circle cx="220" cy="700" r="10" fill="#90cdf4" stroke="#f6ad55" stroke-width="2"/>
  <text x="250" y="705" font-family="Arial" font-size="14" fill="#2d3748">Selected Node</text>
  
  <line x1="220" y1="730" x2="250" y2="730" stroke="#fbd38d" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="280" y="735" font-family="Arial" font-size="14" fill="#2d3748">Branch Connection</text>
  
  <!-- Right Side - Context Branch Creation -->
  <rect x="450" y="60" width="750" height="740" fill="white"/>
  
  <!-- Branch Creation Header -->
  <rect x="450" y="60" width="750" height="60" fill="#f7fafc"/>
  <text x="480" y="95" font-family="Arial" font-size="20" fill="#2d3748" font-weight="bold">Create Context Branch</text>
  <text x="480" y="115" font-family="Arial" font-size="14" fill="#4a5568">From: Database Schema in Project Alpha > Architecture</text>
  
  <!-- Main Form -->
  <rect x="480" y="140" width="690" height="640" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Branch Type Selection -->
  <text x="520" y="170" font-family="Arial" font-size="16" fill="#2d3748" font-weight="bold">Branch Type:</text>
  
  <rect x="520" y="185" width="200" height="40" rx="5" fill="#feebc8"/>
  <circle cx="540" cy="205" r="10" fill="#ed8936"/>
  <text x="560" y="210" font-family="Arial" font-size="14" fill="#ed8936" font-weight="bold">Exploration Branch</text>
  <text x="560" y="230" font-family="Arial" font-size="12" fill="#ed8936">Temporary context for focused inquiry</text>
  
  <rect x="740" y="185" width="200" height="40" rx="5" fill="#e2e8f0"/>
  <circle cx="760" cy="205" r="10" fill="#a0aec0"/>
  <text x="780" y="210" font-family="Arial" font-size="14" fill="#4a5568">Refinement Branch</text>
  <text x="780" y="230" font-family="Arial" font-size="12" fill="#4a5568">Refine knowledge for reintegration</text>
  
  <rect x="520" y="235" width="200" height="40" rx="5" fill="#e2e8f0"/>
  <circle cx="540" cy="255" r="10" fill="#a0aec0"/>
  <text x="560" y="260" font-family="Arial" font-size="14" fill="#4a5568">Parallel Thread</text>
  <text x="560" y="280" font-family="Arial" font-size="12" fill="#4a5568">Long-term separate conversation</text>
  
  <rect x="740" y="235" width="200" height="40" rx="5" fill="#e2e8f0"/>
  <circle cx="760" cy="255" r="10" fill="#a0aec0"/>
  <text x="780" y="260" font-family="Arial" font-size="14" fill="#4a5568">Specialized Context</text>
  <text x="780" y="280" font-family="Arial" font-size="12" fill="#4a5568">Domain-specific knowledge focus</text>
  
  <!-- Branch Configuration -->
  <text x="520" y="320" font-family="Arial" font-size="16" fill="#2d3748" font-weight="bold">Branch Configuration:</text>
  
  <!-- Branch Name -->
  <text x="520" y="350" font-family="Arial" font-size="14" fill="#4a5568">Branch Name:</text>
  <rect x="520" y="360" width="420" height="40" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  <text x="540" y="385" font-family="Arial" font-size="14" fill="#2d3748">Database Schema Optimization</text>
  
  <!-- Knowledge Selection -->
  <text x="520" y="420" font-family="Arial" font-size="14" fill="#4a5568">Include Related Knowledge:</text>
  
  <!-- Selected Knowledge Items -->
  <rect x="520" y="440" width="420" height="40" rx="5" fill="#ebf8ff"/>
  <rect x="530" y="450" width="20" height="20" rx="3" fill="#4299e1"/>
  <text x="535" y="464" font-family="Arial" font-size="14" fill="white" font-weight="bold">✓</text>
  <text x="560" y="465" font-family="Arial" font-size="14" fill="#2d3748">Database Schema (root node)</text>
  <text x="850" y="465" font-family="Arial" font-size="14" fill="#4a5568">100%</text>
  
  <rect x="520" y="490" width="420" height="40" rx="5" fill="#ebf8ff"/>
  <rect x="530" y="500" width="20" height="20" rx="3" fill="#4299e1"/>
  <text x="535" y="514" font-family="Arial" font-size="14" fill="white" font-weight="bold">✓</text>
  <text x="560" y="515" font-family="Arial" font-size="14" fill="#2d3748">Content Models</text>
  <text x="850" y="515" font-family="Arial" font-size="14" fill="#4a5568">100%</text>
  
  <rect x="520" y="540" width="420" height="40" rx="5" fill="#ebf8ff"/>
  <rect x="530" y="550" width="20" height="20" rx="3" fill="#4299e1"/>
  <text x="535" y="564" font-family="Arial" font-size="14" fill="white" font-weight="bold">✓</text>
  <text x="560" y="565" font-family="Arial" font-size="14" fill="#2d3748">User Tables</text>
  <text x="850" y="565" font-family="Arial" font-size="14" fill="#4a5568">80%</text>
  
  <rect x="520" y="590" width="420" height="40" rx="5" fill="#f7fafc"/>
  <rect x="530" y="600" width="20" height="20" rx="3" fill="white" stroke="#a0aec0" stroke-width="1"/>
  <text x="560" y="615" font-family="Arial" font-size="14" fill="#2d3748">API Design</text>
  <text x="850" y="615" font-family="Arial" font-size="14" fill="#4a5568">40%</text>
  
  <rect x="520" y="640" width="420" height="40" rx="5" fill="#f7fafc"/>
  <rect x="530" y="650" width="20" height="20" rx="3" fill="white" stroke="#a0aec0" stroke-width="1"/>
  <text x="560" y="665" font-family="Arial" font-size="14" fill="#2d3748">Authentication System</text>
  <text x="850" y="665" font-family="Arial" font-size="14" fill="#4a5568">20%</text>
  
  <!-- Conversation History Options -->
  <text x="520" y="700" font-family="Arial" font-size="14" fill="#4a5568">Include Conversation History:</text>
  
  <rect x="520" y="720" width="150" height="40" rx="5" fill="#ebf8ff"/>
  <circle cx="540" cy="740" r="10" fill="#4299e1"/>
  <text x="560" y="745" font-family="Arial" font-size="14" fill="#2d3748">Last 3 messages</text>
  
  <rect x="680" y="720" width="120" height="40" rx="5" fill="#f7fafc"/>
  <circle cx="700" cy="740" r="10" fill="#e2e8f0"/>
  <text x="720" y="745" font-family="Arial" font-size="14" fill="#4a5568">All history</text>
  
  <rect x="810" y="720" width="150" height="40" rx="5" fill="#f7fafc"/>
  <circle cx="830" cy="740" r="10" fill="#e2e8f0"/>
  <text x="850" y="745" font-family="Arial" font-size="14" fill="#4a5568">Selected messages</text>
  
  <!-- Context Summary Panel -->
  <rect x="960" y="140" width="210" height="560" rx="5" fill="#feebc8"/>
  <text x="980" y="170" font-family="Arial" font-size="16" fill="#ed8936" font-weight="bold">Branch Summary</text>
  
  <rect x="980" y="190" width="170" height="1" fill="#ed8936"/>
  
  <text x="980" y="220" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Knowledge Nodes:</text>
  <text x="980" y="250" font-family="Arial" font-size="14" fill="#4a5568">3 primary nodes</text>
  <text x="980" y="280" font-family="Arial" font-size="14" fill="#4a5568">5 related nodes</text>
  
  <text x="980" y="320" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Context Size:</text>
  <rect x="980" y="335" width="170" height="10" rx="5" fill="#f6ad55"/>
  <rect x="980" y="335" width="68" height="10" rx="5" fill="#ed8936"/>
  <text x="980" y="360" font-family="Arial" font-size="14" fill="#4a5568">~2,800 tokens (40%)</text>
  
  <text x="980" y="400" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Focus Areas:</text>
  <text x="1000" y="430" font-family="Arial" font-size="14" fill="#4a5568">• Database Schema</text>
  <text x="1000" y="460" font-family="Arial" font-size="14" fill="#4a5568">• Content Modeling</text>
  <text x="1000" y="490" font-family="Arial" font-size="14" fill="#4a5568">• Data Relationships</text>
  
  <text x="980" y="530" font-family="Arial" font-size="14" fill="#2d3748" font-weight="bold">Excluded Content:</text>
  <text x="980" y="560" font-family="Arial" font-size="14" fill="#4a5568">UI Design (entire section)</text>
  <text x="980" y="590" font-family="Arial" font-size="14" fill="#4a5568">Research Notes</text>
  <text x="980" y="620" font-family="Arial" font-size="14" fill="#4a5568">Meeting Notes</text>
  
  <!-- Action Buttons -->
  <rect x="520" y="780" width="190" height="50" rx="5" fill="#e2e8f0"/>
  <text x="615" y="810" font-family="Arial" font-size="16" fill="#4a5568" text-anchor="middle">Cancel</text>
  
  <rect x="730" y="780" width="210" height="50" rx="5" fill="#ed8936"/>
  <text x="835" y="810" font-family="Arial" font-size="16" fill="white" text-anchor="middle">Create Branch Context</text>
  
  <rect x="960" y="780" width="210" height="50" rx="5" fill="#4299e1"/>
  <text x="1065" y="810" font-family="Arial" font-size="16" fill="white" text-anchor="middle">Preview in Graph</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="50" fill="#1e293b"/>
  <text x="20" y="32" font-family="Arial" font-size="20" fill="white">ContextNexus</text>
  
  <!-- Mode Selector -->
  <rect x="200" y="10" width="100" height="30" rx="15" fill="#334155"/>
  <text x="250" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Select</text>
  
  <rect x="310" y="10" width="100" height="30" rx="15" fill="#1e293b"/>
  <text x="360" y="30" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Organize</text>
  
  <rect x="420" y="10" width="100" height="30" rx="15" fill="#1e293b"/>
  <text x="470" y="30" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Preview</text>
  
  <!-- Context Status -->
  <rect x="800" y="10" width="200" height="30" rx="15" fill="#334155"/>
  <rect x="810" y="20" width="120" height="10" rx="5" fill="#475569"/>
  <rect x="810" y="20" width="72" height="10" rx="5" fill="#38bdf8"/>
  <text x="940" y="30" font-family="Arial" font-size="12" fill="white">60% • 6,024 tokens</text>
  
  <rect x="1010" y="10" width="70" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1045" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply</text>
  
  <circle cx="1120" cy="25" r="15" fill="#38bdf8"/>
  <text x="1120" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Main Content Area -->
  <rect x="0" y="50" width="900" height="750" fill="#f1f5f9"/>
  
  <!-- Content Navigation Bar -->
  <rect x="0" y="50" width="900" height="40" fill="#e2e8f0"/>
  
  <!-- Content Type Filters -->
  <rect x="20" y="55" width="90" height="30" rx="15" fill="#0ea5e9"/>
  <text x="65" y="75" font-family="Arial" font-size="14" fill="white" text-anchor="middle">All</text>
  
  <rect x="120" y="55" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="165" y="75" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">User</text>
  
  <rect x="220" y="55" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="265" y="75" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">AI</text>
  
  <rect x="320" y="55" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="365" y="75" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Code</text>
  
  <rect x="420" y="55" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="465" y="75" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Images</text>
  
  <!-- Search -->
  <rect x="600" y="55" width="280" height="30" rx="15" fill="white"/>
  <text x="620" y="75" font-family="Arial" font-size="14" fill="#94a3b8">Search conversation...</text>
  
  <!-- Conversation Area -->
  <!-- User Message 1 -->
  <rect x="20" y="110" width="860" height="120" rx="10" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Selection controls that appear on hover -->
  <rect x="20" y="110" width="30" height="120" rx="5 0 0 5" fill="#f1f5f9" opacity="0.9"/>
  <rect x="25" y="120" width="20" height="20" rx="3" stroke="#475569" stroke-width="1" fill="white"/>
  <text x="35" y="155" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">↑</text>
  <text x="35" y="185" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">↓</text>
  
  <!-- Message Header -->
  <text x="60" y="130" font-family="Arial" font-size="14" font-weight="bold" fill="#475569">You</text>
  <text x="100" y="130" font-family="Arial" font-size="12" fill="#94a3b8">10:15 AM</text>
  <text x="820" y="130" font-family="Arial" font-size="12" fill="#94a3b8">Ctrl+1</text>
  
  <!-- Message Content -->
  <text x="60" y="160" font-family="Arial" font-size="14" fill="#1e293b">I'm working on a machine learning project with a dataset of customer transactions. Can you help me design</text>
  <text x="60" y="185" font-family="Arial" font-size="14" fill="#1e293b">a pipeline for preprocessing this data and training a model to predict customer churn?</text>
  
  <!-- Paragraph selection indicators -->
  <circle cx="50" cy="170" r="4" fill="#64748b" opacity="0"/>
  
  <!-- AI Message -->
  <rect x="20" y="250" width="860" height="300" rx="10" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Selection controls -->
  <rect x="20" y="250" width="30" height="300" rx="5 0 0 5" fill="#f1f5f9" opacity="0.9"/>
  <rect x="25" y="260" width="20" height="20" rx="3" stroke="#475569" stroke-width="1" fill="white"/>
  <text x="35" y="335" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">↑</text>
  <text x="35" y="365" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">↓</text>
  
  <!-- Message Header -->
  <text x="60" y="270" font-family="Arial" font-size="14" font-weight="bold" fill="#475569">AI Assistant</text>
  <text x="150" y="270" font-family="Arial" font-size="12" fill="#94a3b8">10:16 AM</text>
  <text x="820" y="270" font-family="Arial" font-size="12" fill="#94a3b8">Ctrl+2</text>
  
  <!-- Message Content - with paragraph selection indicators -->
  <!-- Paragraph 1 - already selected -->
  <rect x="60" y="290" width="800" height="50" rx="5" fill="#dbeafe" opacity="0.5"/>
  <text x="60" y="310" font-family="Arial" font-size="14" fill="#1e293b">I'd be happy to help you design a preprocessing pipeline and model for customer churn prediction. Let's break</text>
  <text x="60" y="335" font-family="Arial" font-size="14" fill="#1e293b">this down into steps that create an effective workflow.</text>
  <circle cx="50" cy="310" r="4" fill="#0ea5e9"/>
  
  <!-- Paragraph 2 - with hover selection indicator -->
  <text x="60" y="375" font-family="Arial" font-size="14" font-weight="bold" fill="#1e293b">1. Data Preprocessing Steps:</text>
  <text x="60" y="400" font-family="Arial" font-size="14" fill="#1e293b">- Handle missing values through imputation or removal</text>
  <text x="60" y="425" font-family="Arial" font-size="14" fill="#1e293b">- Normalize numerical features (scaling to 0-1 range or standardizing)</text>
  <text x="60" y="450" font-family="Arial" font-size="14" fill="#1e293b">- Encode categorical features (one-hot encoding or target encoding)</text>
  <text x="60" y="475" font-family="Arial" font-size="14" fill="#1e293b">- Feature selection to identify the most predictive attributes</text>
  <circle cx="50" cy="425" r="4" fill="#64748b"/>
  
  <!-- Paragraph 3 -->
  <text x="60" y="515" font-family="Arial" font-size="14" font-weight="bold" fill="#1e293b">2. Model Selection:</text>
  <text x="60" y="540" font-family="Arial" font-size="14" fill="#1e293b">For churn prediction, I recommend starting with gradient boosting algorithms like XGBoost or LightGBM as they</text>
  <circle cx="50" cy="525" r="4" fill="#64748b"/>
  
  <!-- Code Block Example -->
  <rect x="20" y="570" width="860" height="170" rx="10" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- Selection controls -->
  <rect x="20" y="570" width="30" height="170" rx="5 0 0 5" fill="#f1f5f9" opacity="0.9"/>
  <rect x="25" y="580" width="20" height="20" rx="3" stroke="#475569" stroke-width="1" fill="white"/>
  
  <!-- Code Block Header -->
  <text x="60" y="590" font-family="Arial" font-size="14" font-weight="bold" fill="#475569">Code: Python Preprocessing</text>
  <text x="820" y="590" font-family="Arial" font-size="12" fill="#94a3b8">Ctrl+3</text>
  
  <!-- Code Content -->
  <rect x="60" y="605" width="800" height="120" rx="5" fill="#f8fafc"/>
  <text x="70" y="625" font-family="Consolas, monospace" font-size="14" fill="#334155">import pandas as pd</text>
  <text x="70" y="650" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.preprocessing import StandardScaler</text>
  <text x="70" y="675" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.model_selection import train_test_split</text>
  <text x="70" y="700" font-family="Consolas, monospace" font-size="14" fill="#334155"></text>
  <text x="70" y="725" font-family="Consolas, monospace" font-size="14" fill="#334155"># Code for data preprocessing would go here</text>
  <circle cx="50" cy="665" r="4" fill="#64748b"/>
  
  <!-- Right Sidebar - Context Preview -->
  <rect x="900" y="50" width="300" height="750" fill="white"/>
  
  <!-- Context Preview Header -->
  <rect x="900" y="50" width="300" height="40" fill="#e2e8f0"/>
  <text x="920" y="75" font-family="Arial" font-size="16" fill="#334155" font-weight="bold">Selected Content</text>
  
  <!-- Selection Stats -->
  <rect x="900" y="90" width="300" height="60" fill="white"/>
  <text x="920" y="115" font-family="Arial" font-size="14" fill="#475569">1 paragraph selected</text>
  <text x="920" y="140" font-family="Arial" font-size="14" fill="#475569">~320 tokens (3% of context)</text>
  
  <!-- Quick Actions -->
  <rect x="920" y="160" width="130" height="35" rx="5" fill="#0ea5e9"/>
  <text x="985" y="182" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Add to Context</text>
  
  <rect x="1060" y="160" width="120" height="35" rx="5" fill="#e2e8f0"/>
  <text x="1120" y="182" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Discard</text>
  
  <!-- Selection Preview -->
  <rect x="920" y="210" width="260" height="90" rx="5" fill="#dbeafe"/>
  <text x="930" y="230" font-family="Arial" font-size="14" fill="#1e293b">I'd be happy to help you design a preprocessing pipeline and model for customer churn prediction. Let's break</text>
  <text x="930" y="255" font-family="Arial" font-size="14" fill="#1e293b">this down into steps that create an effective workflow.</text>
  
  <rect x="920" y="210" width="5" height="90" rx="2.5" fill="#0ea5e9"/>
  
  <!-- Keyboard Shortcuts Section -->
  <rect x="900" y="510" width="300" height="290" fill="white"/>
  <text x="920" y="535" font-family="Arial" font-size="16" fill="#334155" font-weight="bold">Keyboard Shortcuts</text>
  
  <text x="920" y="565" font-family="Arial" font-size="14" fill="#475569">Space</text>
  <text x="1020" y="565" font-family="Arial" font-size="14" fill="#1e293b">Select paragraph</text>
  
  <text x="920" y="595" font-family="Arial" font-size="14" fill="#475569">Shift+Space</text>
  <text x="1020" y="595" font-family="Arial" font-size="14" fill="#1e293b">Select message</text>
  
  <text x="920" y="625" font-family="Arial" font-size="14" fill="#475569">Alt+↑/↓</text>
  <text x="1020" y="625" font-family="Arial" font-size="14" fill="#1e293b">Navigate items</text>
  
  <text x="920" y="655" font-family="Arial" font-size="14" fill="#475569">Ctrl+A</text>
  <text x="1020" y="655" font-family="Arial" font-size="14" fill="#1e293b">Select all</text>
  
  <text x="920" y="685" font-family="Arial" font-size="14" fill="#475569">Ctrl+C</text>
  <text x="1020" y="685" font-family="Arial" font-size="14" fill="#1e293b">Add to context</text>
  
  <text x="920" y="715" font-family="Arial" font-size="14" fill="#475569">Ctrl+1,2,3...</text>
  <text x="1020" y="715" font-family="Arial" font-size="14" fill="#1e293b">Jump to message</text>
  
  <text x="920" y="745" font-family="Arial" font-size="14" fill="#475569">Ctrl+S</text>
  <text x="1020" y="745" font-family="Arial" font-size="14" fill="#1e293b">Save selection</text>
  
  <text x="920" y="775" font-family="Arial" font-size="14" fill="#475569">Ctrl+/</text>
  <text x="1020" y="775" font-family="Arial" font-size="14" fill="#1e293b">Show all shortcuts</text>
  
  <!-- Mini-map in scrollbar -->
  <rect x="880" y="50" width="12" height="750" fill="#e2e8f0" rx="6"/>
  
  <!-- Current view indicator -->
  <rect x="880" y="110" width="12" height="270" fill="#94a3b8" rx="6"/>
  
  <!-- Heat indicators for relevant content -->
  <rect x="880" y="290" width="12" height="30" fill="#0ea5e9" rx="0"/>
  <rect x="880" y="420" width="12" height="80" fill="#0ea5e9" opacity="0.5" rx="0"/>
  <rect x="880" y="605" width="12" height="50" fill="#0ea5e9" opacity="0.7" rx="0"/>
  
  <!-- Selection Options for Paragraphs - Appearing on hover -->
  <rect x="780" y="290" width="80" height="30" rx="15" fill="#0ea5e9" opacity="0.9"/>
  <text x="820" y="310" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Selected</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="50" fill="#1e293b"/>
  <text x="20" y="32" font-family="Arial" font-size="20" fill="white">ContextNexus</text>
  
  <!-- Mode Selector -->
  <rect x="200" y="10" width="100" height="30" rx="15" fill="#1e293b"/>
  <text x="250" y="30" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Select</text>
  
  <rect x="310" y="10" width="100" height="30" rx="15" fill="#334155"/>
  <text x="360" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Organize</text>
  
  <rect x="420" y="10" width="100" height="30" rx="15" fill="#1e293b"/>
  <text x="470" y="30" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Preview</text>
  
  <!-- Context Status -->
  <rect x="800" y="10" width="200" height="30" rx="15" fill="#334155"/>
  <rect x="810" y="20" width="120" height="10" rx="5" fill="#475569"/>
  <rect x="810" y="20" width="96" height="10" rx="5" fill="#38bdf8"/>
  <text x="940" y="30" font-family="Arial" font-size="12" fill="white">80% • 8,042 tokens</text>
  
  <rect x="1010" y="10" width="70" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1045" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply</text>
  
  <circle cx="1120" cy="25" r="15" fill="#38bdf8"/>
  <text x="1120" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Main Organization Area -->
  <rect x="0" y="50" width="1200" height="750" fill="#f1f5f9"/>
  
  <!-- Top Controls -->
  <rect x="0" y="50" width="1200" height="60" fill="#e2e8f0"/>
  
  <!-- Control Buttons -->
  <rect x="20" y="65" width="140" height="30" rx="15" fill="#0ea5e9"/>
  <text x="90" y="85" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Auto-Organize</text>
  
  <rect x="170" y="65" width="140" height="30" rx="15" fill="#e2e8f0"/>
  <text x="240" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">By Relevance</text>
  
  <rect x="320" y="65" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="380" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">By Type</text>
  
  <rect x="450" y="65" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="510" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">By Time</text>
  
  <!-- Search/Filter -->
  <rect x="850" y="65" width="330" height="30" rx="15" fill="white"/>
  <text x="870" y="85" font-family="Arial" font-size="14" fill="#94a3b8">Filter selections...</text>
  
  <!-- Main Organization Columns -->
  <rect x="20" y="130" width="560" height="600" rx="10" fill="white"/>
  <rect x="600" y="130" width="580" height="600" rx="10" fill="white"/>
  
  <!-- Left Column Header -->
  <rect x="20" y="130" width="560" height="50" rx="10 10 0 0" fill="#dbeafe"/>
  <text x="40" y="162" font-family="Arial" font-size="16" fill="#1e40af" font-weight="bold">Selected Content (Drag to Reorder)</text>
  <text x="450" y="162" font-family="Arial" font-size="14" fill="#1e40af">7 items • 8,042 tokens</text>
  
  <!-- Right Column Header -->
  <rect x="600" y="130" width="580" height="50" rx="10 10 0 0" fill="#dbeafe"/>
  <text x="620" y="162" font-family="Arial" font-size="16" fill="#1e40af" font-weight="bold">Context Structure</text>
  <text x="1030" y="162" font-family="Arial" font-size="14" fill="#1e40af">4 categories</text>
  
  <!-- Selected Content Items (Left Column) -->
  <!-- Item 1 -->
  <rect x="40" y="200" width="520" height="70" rx="5" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
  <text x="60" y="225" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">User Question (Initial)</text>
  <text x="60" y="250" font-family="Arial" font-size="14" fill="#475569" class="truncated">I'm working on a machine learning project with a dataset of customer transactions...</text>
  
  <!-- Priority Handle -->
  <rect x="40" y="200" width="10" height="70" rx="5 0 0 5" fill="#0ea5e9"/>
  
  <!-- Controls -->
  <circle cx="500" cy="225" r="12" fill="#dbeafe"/>
  <text x="500" y="229" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↑</text>
  
  <circle cx="530" cy="225" r="12" fill="#dbeafe"/>
  <text x="530" y="229" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↓</text>
  
  <circle cx="530" cy="255" r="12" fill="#fecaca"/>
  <text x="530" y="259" font-family="Arial" font-size="14" fill="#b91c1c" text-anchor="middle">✕</text>
  
  <!-- Item 2 -->
  <rect x="40" y="280" width="520" height="70" rx="5" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
  <text x="60" y="305" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">AI Introduction</text>
  <text x="60" y="330" font-family="Arial" font-size="14" fill="#475569" class="truncated">I'd be happy to help you design a preprocessing pipeline and model for churn prediction...</text>
  
  <!-- Priority Handle -->
  <rect x="40" y="280" width="10" height="70" rx="5 0 0 5" fill="#0ea5e9"/>
  
  <!-- Controls -->
  <circle cx="500" cy="305" r="12" fill="#dbeafe"/>
  <text x="500" y="309" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↑</text>
  
  <circle cx="530" cy="305" r="12" fill="#dbeafe"/>
  <text x="530" y="309" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↓</text>
  
  <circle cx="530" cy="335" r="12" fill="#fecaca"/>
  <text x="530" y="339" font-family="Arial" font-size="14" fill="#b91c1c" text-anchor="middle">✕</text>
  
  <!-- Item 3 - High priority -->
  <rect x="40" y="360" width="520" height="90" rx="5" fill="#f1f5f9" stroke="#0ea5e9" stroke-width="2"/>
  <text x="60" y="385" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Data Preprocessing Steps</text>
  <text x="60" y="410" font-family="Arial" font-size="14" fill="#475569">- Handle missing values through imputation or removal</text>
  <text x="60" y="435" font-family="Arial" font-size="14" fill="#475569">- Normalize numerical features (scaling to 0-1 range or standardizing)</text>
  
  <!-- Priority Handle -->
  <rect x="40" y="360" width="10" height="90" rx="5 0 0 5" fill="#0ea5e9"/>
  
  <!-- Controls -->
  <circle cx="500" cy="385" r="12" fill="#dbeafe"/>
  <text x="500" y="389" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↑</text>
  
  <circle cx="530" cy="385" r="12" fill="#dbeafe"/>
  <text x="530" y="389" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↓</text>
  
  <circle cx="530" cy="415" r="12" fill="#fecaca"/>
  <text x="530" y="419" font-family="Arial" font-size="14" fill="#b91c1c" text-anchor="middle">✕</text>
  
  <!-- Relevance Indicator (sliding control appears on hover) -->
  <rect x="420" y="385" width="70" height="8" rx="4" fill="#e2e8f0"/>
  <rect x="420" y="385" width="56" height="8" rx="4" fill="#0ea5e9"/>
  <circle cx="476" cy="389" r="8" fill="white" stroke="#0ea5e9" stroke-width="2"/>
  <text x="505" y="415" font-family="Arial" font-size="12" fill="#334155">80%</text>
  
  <!-- Item 4 -->
  <rect x="40" y="460" width="520" height="70" rx="5" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
  <text x="60" y="485" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Model Selection</text>
  <text x="60" y="510" font-family="Arial" font-size="14" fill="#475569" class="truncated">For churn prediction, I recommend starting with gradient boosting algorithms like XGBoost...</text>
  
  <!-- Priority Handle -->
  <rect x="40" y="460" width="10" height="70" rx="5 0 0 5" fill="#0ea5e9"/>
  
  <!-- Controls -->
  <circle cx="500" cy="485" r="12" fill="#dbeafe"/>
  <text x="500" y="489" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↑</text>
  
  <circle cx="530" cy="485" r="12" fill="#dbeafe"/>
  <text x="530" y="489" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↓</text>
  
  <circle cx="530" cy="515" r="12" fill="#fecaca"/>
  <text x="530" y="519" font-family="Arial" font-size="14" fill="#b91c1c" text-anchor="middle">✕</text>
  
  <!-- Item 5 - Being dragged -->
  <rect x="40" y="610" width="520" height="90" rx="5" fill="white" stroke="#0ea5e9" stroke-width="2" filter="drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"/>
  <text x="60" y="635" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Python Preprocessing Code</text>
  <text x="60" y="660" font-family="Consolas, monospace" font-size="14" fill="#475569">import pandas as pd</text>
  <text x="60" y="685" font-family="Consolas, monospace" font-size="14" fill="#475569">from sklearn.preprocessing import StandardScaler</text>
  
  <!-- Drag Handle -->
  <rect x="40" y="610" width="520" height="20" rx="5 5 0 0" fill="#dbeafe"/>
  <circle cx="60" cy="620" r="4" fill="#0ea5e9"/>
  <circle cx="75" cy="620" r="4" fill="#0ea5e9"/>
  <circle cx="90" cy="620" r="4" fill="#0ea5e9"/>
  
  <!-- Priority Handle -->
  <rect x="40" y="610" width="10" height="90" rx="5 0 0 5" fill="#0ea5e9"/>
  
  <!-- Controls -->
  <circle cx="500" cy="635" r="12" fill="#dbeafe"/>
  <text x="500" y="639" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↑</text>
  
  <circle cx="530" cy="635" r="12" fill="#dbeafe"/>
  <text x="530" y="639" font-family="Arial" font-size="14" fill="#0369a1" text-anchor="middle">↓</text>
  
  <circle cx="530" cy="665" r="12" fill="#fecaca"/>
  <text x="530" y="669" font-family="Arial" font-size="14" fill="#b91c1c" text-anchor="middle">✕</text>
  
  <!-- Context Structure (Right Column) -->
  <!-- Category 1 -->
  <rect x="620" y="200" width="540" height="100" rx="5" fill="#dbeafe"/>
  <text x="640" y="225" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Problem Definition</text>
  <text x="640" y="250" font-family="Arial" font-size="14" fill="#0369a1">Contains user's initial question and requirements</text>
  <text x="640" y="275" font-family="Arial" font-size="14" fill="#0369a1">2 content blocks • 1,240 tokens</text>
  
  <!-- Category Control -->
  <circle cx="1130" cy="225" r="15" fill="white"/>
  <text x="1130" y="230" font-family="Arial" font-size="16" fill="#0c4a6e" text-anchor="middle">+</text>
  
  <!-- Category 2 -->
  <rect x="620" y="310" width="540" height="100" rx="5" fill="#0ea5e9"/>
  <text x="640" y="335" font-family="Arial" font-size="16" fill="white" font-weight="bold">Data Preprocessing</text>
  <text x="640" y="360" font-family="Arial" font-size="14" fill="white">Data cleaning and preparation approach</text>
  <text x="640" y="385" font-family="Arial" font-size="14" fill="white">2 content blocks • 2,850 tokens</text>
  
  <!-- Category Control -->
  <circle cx="1130" cy="335" r="15" fill="white"/>
  <text x="1130" y="340" font-family="Arial" font-size="16" fill="#0c4a6e" text-anchor="middle">−</text>
  
  <!-- Category Items (expanded) -->
  <rect x="640" y="420" width="500" height="50" rx="5" fill="white" opacity="0.9"/>
  <text x="660" y="450" font-family="Arial" font-size="14" fill="#0c4a6e">Data Preprocessing Steps</text>
  <circle cx="1120" cy="450" r="10" fill="#bae6fd"/>
  <text x="1120" y="454" font-family="Arial" font-size="14" fill="#0c4a6e" text-anchor="middle">↑</text>
  
  <rect x="640" y="480" width="500" height="50" rx="5" fill="white" opacity="0.9"/>
  <text x="660" y="510" font-family="Arial" font-size="14" fill="#0c4a6e">Python Preprocessing Code</text>
  <circle cx="1120" cy="510" r="10" fill="#bae6fd"/>
  <text x="1120" y="514" font-family="Arial" font-size="14" fill="#0c4a6e" text-anchor="middle">↓</text>
  
  <!-- Category 3 -->
  <rect x="620" y="550" width="540" height="100" rx="5" fill="#dbeafe"/>
  <text x="640" y="575" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Model Selection</text>
  <text x="640" y="600" font-family="Arial" font-size="14" fill="#0369a1">Algorithm recommendations and rationale</text>
  <text x="640" y="625" font-family="Arial" font-size="14" fill="#0369a1">2 content blocks • 1,980 tokens</text>
  
  <!-- Category Control -->
  <circle cx="1130" cy="575" r="15" fill="white"/>
  <text x="1130" y="580" font-family="Arial" font-size="16" fill="#0c4a6e" text-anchor="middle">+</text>
  
  <!-- Bottom Controls Area -->
  <rect x="0" y="740" width="1200" height="60" fill="#e2e8f0"/>
  
  <!-- Keyboard Shortcut Reminders -->
  <text x="20" y="775" font-family="Arial" font-size="14" fill="#475569">Ctrl+↑/↓: Move item</text>
  <text x="180" y="775" font-family="Arial" font-size="14" fill="#475569">Ctrl+G: Group items</text>
  <text x="330" y="775" font-family="Arial" font-size="14" fill="#475569">Alt+D: Delete item</text>
  <text x="480" y="775" font-family="Arial" font-size="14" fill="#475569">Ctrl+R: Adjust relevance</text>
  
  <!-- Save/Cancel Controls -->
  <rect x="900" y="755" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="960" y="775" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Cancel</text>
  
  <rect x="1030" y="755" width="150" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1105" y="775" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Save Structure</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="50" fill="#1e293b"/>
  <text x="20" y="32" font-family="Arial" font-size="20" fill="white">ContextNexus</text>
  
  <!-- Context Status -->
  <rect x="250" y="10" width="70" height="30" rx="15" fill="#334155"/>
  <circle cx="270" cy="25" r="8" fill="#0ea5e9"/>
  <text x="290" y="30" font-family="Arial" font-size="14" fill="white">Fast</text>
  
  <rect x="330" y="10" width="150" height="30" rx="15" fill="#334155"/>
  <rect x="340" y="20" width="100" height="10" rx="5" fill="#475569"/>
  <rect x="340" y="20" width="43" height="10" rx="5" fill="#0ea5e9"/>
  <text x="450" y="30" font-family="Arial" font-size="12" fill="white">43% selected</text>
  
  <rect x="1010" y="10" width="70" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1045" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply</text>
  
  <rect x="1090" y="10" width="90" height="30" rx="15" fill="#334155"/>
  <text x="1135" y="30" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Exit Mode</text>
  
  <!-- Main Chat Area -->
  <rect x="0" y="50" width="1200" height="750" fill="#f1f5f9"/>
  
  <!-- Selection Mode Indicator -->
  <rect x="0" y="50" width="1200" height="40" fill="rgba(14, 165, 233, 0.1)"/>
  <text x="20" y="75" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Quick Selection Mode</text>
  <text x="200" y="75" font-family="Arial" font-size="14" fill="#0369a1">Click or drag to select text • Space to toggle paragraph • Esc to exit</text>
  
  <!-- Main Message Area with Rapid Selection UI -->
  <rect x="20" y="110" width="1160" height="650" rx="10" fill="white"/>
  
  <!-- User Message with Conversation View -->
  <rect x="40" y="130" width="1120" height="80" rx="5" fill="#f1f5f9"/>
  <circle cx="60" cy="150" r="15" fill="#38bdf8"/>
  <text x="60" y="155" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  <text x="85" y="150" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">You</text>
  <text x="115" y="150" font-family="Arial" font-size="12" fill="#64748b">10:15 AM</text>
  <text x="85" y="180" font-family="Arial" font-size="14" fill="#475569">Could you analyze this dataset of customer transactions and help me identify patterns of customer churn?</text>
  <rect x="40" y="130" width="5" height="80" rx="2.5" fill="#94a3b8"/>
  
  <!-- AI Message with Selection UI -->
  <rect x="40" y="230" width="1120" height="510" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
  <circle cx="60" cy="250" r="15" fill="#0e7490"/>
  <text x="60" y="255" font-family="Arial" font-size="14" fill="white" text-anchor="middle">AI</text>
  <text x="85" y="250" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Assistant</text>
  <text x="155" y="250" font-family="Arial" font-size="12" fill="#64748b">10:16 AM</text>
  
  <!-- Paragraph 1 - Hovered with Selection UI -->
  <rect x="85" y="280" width="1075" height="60" rx="3" fill="#dbeafe" opacity="0.3"/>
  <text x="85" y="300" font-family="Arial" font-size="14" fill="#334155">I'll analyze your customer transaction dataset to identify churn patterns. First, let's understand what typically</text>
  <text x="85" y="325" font-family="Arial" font-size="14" fill="#334155">causes customers to leave and what signals might indicate potential churn.</text>
  
  <!-- Selection UI (appears on hover) -->
  <rect x="40" y="280" width="35" height="60" rx="3" fill="#f1f5f9"/>
  <circle cx="57.5" cy="310" r="10" fill="white" stroke="#0ea5e9" stroke-width="1.5"/>
  <text x="57.5" y="315" font-family="Arial" font-size="14" fill="#0ea5e9" text-anchor="middle">⬚</text>
  
  <rect x="1040" y="280" width="120" height="30" rx="15" fill="#0ea5e9" opacity="0.9"/>
  <text x="1100" y="300" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Add to Context</text>
  
  <!-- Paragraph 2 - Selected -->
  <rect x="85" y="350" width="1075" height="100" rx="3" fill="#dbeafe"/>
  <text x="85" y="370" font-family="Arial" font-size="14" fill="#334155">Key indicators of potential churn include:</text>
  <text x="85" y="395" font-family="Arial" font-size="14" fill="#334155">• Decreased transaction frequency over time</text>
  <text x="85" y="420" font-family="Arial" font-size="14" fill="#334155">• Reduction in average purchase value</text>
  <text x="85" y="445" font-family="Arial" font-size="14" fill="#334155">• Increased support ticket submissions or complaints</text>
  
  <!-- Selection UI -->
  <rect x="40" y="350" width="35" height="100" rx="3" fill="#f1f5f9"/>
  <circle cx="57.5" cy="400" r="10" fill="#0ea5e9" stroke="#0ea5e9" stroke-width="1.5"/>
  <text x="57.5" y="405" font-family="Arial" font-size="14" fill="white" text-anchor="middle">✓</text>
  
  <rect x="1040" y="350" width="120" height="30" rx="15" fill="#f97316" opacity="0.9"/>
  <text x="1100" y="370" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Remove</text>
  
  <rect x="1000" y="390" width="160" height="20" rx="10" fill="#0c4a6e" opacity="0.1"/>
  <text x="1080" y="405" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="middle">~140 tokens</text>
  
  <!-- Paragraph 3 - Not selected -->
  <rect x="85" y="460" width="1075" height="80" rx="3" fill="white"/>
  <text x="85" y="480" font-family="Arial" font-size="14" fill="#334155">For analyzing your dataset, I recommend a multi-step approach:</text>
  <text x="85" y="505" font-family="Arial" font-size="14" fill="#334155">1. Data cleaning and preparation to handle missing values</text>
  <text x="85" y="530" font-family="Arial" font-size="14" fill="#334155">2. Feature engineering to identify meaningful signals</text>
  
  <!-- Selection UI (appears on hover) -->
  <rect x="40" y="460" width="35" height="80" rx="3" fill="#f1f5f9"/>
  <circle cx="57.5" cy="500" r="10" fill="white" stroke="#0ea5e9" stroke-width="1.5"/>
  <text x="57.5" y="505" font-family="Arial" font-size="14" fill="#0ea5e9" text-anchor="middle">⬚</text>
  
  <!-- Code Block - Text selection in progress -->
  <rect x="85" y="550" width="1075" height="150" rx="5" fill="#f8fafc"/>
  
  <!-- Cursor show text selection in progress -->
  <rect x="165" y="580" width="180" height="20" fill="#bae6fd" opacity="0.7"/>
  <rect x="85" y="600" width="90" height="20" fill="#bae6fd" opacity="0.7"/>
  
  <text x="85" y="570" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Example Analysis Code:</text>
  <text x="85" y="600" font-family="Consolas, monospace" font-size="14" fill="#334155">import pandas as pd</text>
  <text x="85" y="625" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.ensemble import RandomForestClassifier</text>
  <text x="85" y="650" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.model_selection import train_test_split</text>
  <text x="85" y="675" font-family="Consolas, monospace" font-size="14" fill="#334155"></text>
  <text x="85" y="700" font-family="Consolas, monospace" font-size="14" fill="#334155"># Load and prepare data</text>
  
  <!-- Selection UI -->
  <rect x="40" y="550" width="35" height="150" rx="3" fill="#f1f5f9"/>
  <circle cx="57.5" cy="625" r="10" fill="white" stroke="#0ea5e9" stroke-width="1.5"/>
  <text x="57.5" y="630" font-family="Arial" font-size="14" fill="#0ea5e9" text-anchor="middle">⬚</text>
  
  <!-- Floating Selection Tools (appears during text selection) -->
  <rect x="345" y="580" width="140" height="40" rx="20" fill="#0c4a6e" filter="drop-shadow(0 4px 3px rgb(0 0 0 / 0.07))"/>
  <text x="380" y="605" font-family="Arial" font-size="14" fill="white">Select Code</text>
  <text x="470" y="605" font-family="Arial" font-size="14" fill="white">|</text>
  <text x="485" y="605" font-family="Arial" font-size="14" fill="white">All</text>
  
  <!-- Bottom Control Bar -->
  <rect x="0" y="770" width="1200" height="30" fill="#e2e8f0"/>
  
  <!-- Selection Stats -->
  <text x="20" y="790" font-family="Arial" font-size="14" fill="#334155">1 paragraph selected • 140 tokens • Space to toggle • Tab to next • Shift+Tab to previous</text>
  
  <!-- Dynamic Context Preview -->
  <rect x="600" y="770" width="580" height="30" fill="#dbeafe"/>
  <text x="620" y="790" font-family="Arial" font-size="14" fill="#0c4a6e">Context Preview: "Key indicators... complaints"</text>
  <text x="1140" y="790" font-family="Arial" font-size="14" fill="#0c4a6e" text-anchor="end">+</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="50" font-family="Arial" font-size="24" fill="#0f172a" font-weight="bold" text-anchor="middle">Context Workflow: From Conversation to Structured Knowledge</text>
  
  <!-- Step 1: Conversation -->
  <rect x="50" y="100" width="240" height="600" rx="10" fill="#f1f5f9" stroke="#cbd5e0" stroke-width="2"/>
  <text x="170" y="130" font-family="Arial" font-size="20" fill="#0f172a" font-weight="bold" text-anchor="middle">Raw Conversation</text>
  
  <!-- Conversation Messages -->
  <rect x="70" y="150" width="200" height="80" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="85" y="175" font-family="Arial" font-size="14" fill="#64748b">You</text>
  <text x="85" y="200" font-family="Arial" font-size="12" fill="#334155">Machine learning question...</text>
  
  <rect x="70" y="240" width="200" height="120" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="85" y="265" font-family="Arial" font-size="14" fill="#64748b">AI</text>
  <text x="85" y="290" font-family="Arial" font-size="12" fill="#334155">I can help with machine...</text>
  <text x="85" y="310" font-family="Arial" font-size="12" fill="#334155">Here are key steps...</text>
  <text x="85" y="330" font-family="Arial" font-size="12" fill="#334155">First, we need to...</text>
  
  <rect x="70" y="370" width="200" height="80" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="85" y="395" font-family="Arial" font-size="14" fill="#64748b">You</text>
  <text x="85" y="420" font-family="Arial" font-size="12" fill="#334155">What about handling...</text>
  
  <rect x="70" y="460" width="200" height="120" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="85" y="485" font-family="Arial" font-size="14" fill="#64748b">AI</text>
  <text x="85" y="510" font-family="Arial" font-size="12" fill="#334155">Great question. For...</text>
  <text x="85" y="530" font-family="Arial" font-size="12" fill="#334155">Consider using these...</text>
  <text x="85" y="550" font-family="Arial" font-size="12" fill="#334155">Here's example code...</text>
  
  <rect x="70" y="590" width="200" height="80" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="85" y="615" font-family="Arial" font-size="14" fill="#64748b">You</text>
  <text x="85" y="640" font-family="Arial" font-size="12" fill="#334155">Can we optimize for...</text>
  
  <!-- Problems with Raw Conversation -->
  <rect x="50" y="710" width="240" height="80" rx="10" fill="#fee2e2" stroke="#fecaca" stroke-width="2"/>
  <text x="170" y="735" font-family="Arial" font-size="16" fill="#b91c1c" font-weight="bold" text-anchor="middle">Problems</text>
  <text x="170" y="760" font-family="Arial" font-size="12" fill="#b91c1c" text-anchor="middle">Token limits • Poor organization</text>
  <text x="170" y="780" font-family="Arial" font-size="12" fill="#b91c1c" text-anchor="middle">Off-topic content • Repetition</text>
  
  <!-- Step 2: Rapid Selection -->
  <rect x="340" y="100" width="240" height="600" rx="10" fill="#dbeafe" stroke="#93c5fd" stroke-width="2"/>
  <text x="460" y="130" font-family="Arial" font-size="20" fill="#1e40af" font-weight="bold" text-anchor="middle">Rapid Selection</text>
  
  <!-- Selection Interface -->
  <rect x="360" y="150" width="200" height="220" rx="10" fill="white" stroke="#93c5fd" stroke-width="2"/>
  
  <!-- Selection Header -->
  <rect x="360" y="150" width="200" height="30" rx="10 10 0 0" fill="#bfdbfe"/>
  <text x="460" y="170" font-family="Arial" font-size="14" fill="#1e40af" text-anchor="middle">Select Mode</text>
  
  <!-- Selection Content -->
  <rect x="370" y="190" width="180" height="20" rx="5" fill="#eff6ff"/>
  <circle cx="380" cy="200" r="5" fill="white" stroke="#3b82f6" stroke-width="1"/>
  <text x="400" y="202" font-family="Arial" font-size="11" fill="#334155">Message from you</text>
  
  <rect x="370" y="220" width="180" height="20" rx="5" fill="#dbeafe"/>
  <circle cx="380" cy="230" r="5" fill="#3b82f6"/>
  <text x="400" y="232" font-family="Arial" font-size="11" fill="#334155">Key steps paragraph</text>
  
  <rect x="370" y="250" width="180" height="20" rx="5" fill="#dbeafe"/>
  <circle cx="380" cy="260" r="5" fill="#3b82f6"/>
  <text x="400" y="262" font-family="Arial" font-size="11" fill="#334155">Example code block</text>
  
  <rect x="370" y="280" width="180" height="20" rx="5" fill="#eff6ff"/>
  <circle cx="380" cy="290" r="5" fill="white" stroke="#3b82f6" stroke-width="1"/>
  <text x="400" y="292" font-family="Arial" font-size="11" fill="#334155">Your follow-up</text>
  
  <rect x="370" y="310" width="180" height="20" rx="5" fill="#dbeafe"/>
  <circle cx="380" cy="320" r="5" fill="#3b82f6"/>
  <text x="400" y="322" font-family="Arial" font-size="11" fill="#334155">Optimization methods</text>
  
  <!-- Selection Methods -->
  <rect x="360" y="380" width="200" height="160" rx="10" fill="white" stroke="#93c5fd" stroke-width="2"/>
  <text x="460" y="400" font-family="Arial" font-size="14" fill="#1e40af" text-anchor="middle">Selection Methods</text>
  
  <rect x="370" y="420" width="180" height="25" rx="12.5" fill="#eff6ff"/>
  <text x="460" y="437" font-family="Arial" font-size="12" fill="#1e40af" text-anchor="middle">One-Click Paragraph</text>
  
  <rect x="370" y="455" width="180" height="25" rx="12.5" fill="#eff6ff"/>
  <text x="460" y="472" font-family="Arial" font-size="12" fill="#1e40af" text-anchor="middle">Drag Selection</text>
  
  <rect x="370" y="490" width="180" height="25" rx="12.5" fill="#eff6ff"/>
  <text x="460" y="507" font-family="Arial" font-size="12" fill="#1e40af" text-anchor="middle">Content Type Filters</text>
  
  <!-- Selection Stats -->
  <rect x="360" y="550" width="200" height="120" rx="10" fill="white" stroke="#93c5fd" stroke-width="2"/>
  <text x="460" y="575" font-family="Arial" font-size="14" fill="#1e40af" text-anchor="middle">Selection Stats</text>
  
  <text x="370" y="605" font-family="Arial" font-size="12" fill="#334155">3 paragraphs selected</text>
  <text x="370" y="630" font-family="Arial" font-size="12" fill="#334155">2 code blocks selected</text>
  <text x="370" y="655" font-family="Arial" font-size="12" fill="#334155">1,852 tokens (18.5%)</text>
  
  <!-- Key Benefits -->
  <rect x="340" y="710" width="240" height="80" rx="10" fill="#dbeafe" stroke="#93c5fd" stroke-width="2"/>
  <text x="460" y="735" font-family="Arial" font-size="16" fill="#1e40af" font-weight="bold" text-anchor="middle">Value Add</text>
  <text x="460" y="760" font-family="Arial" font-size="12" fill="#1e40af" text-anchor="middle">Speed (1-click selection)</text>
  <text x="460" y="780" font-family="Arial" font-size="12" fill="#1e40af" text-anchor="middle">Precision (only what matters)</text>
  
  <!-- Step 3: Organization -->
  <rect x="630" y="100" width="240" height="600" rx="10" fill="#d8b4fe" stroke="#c4b5fd" stroke-width="2"/>
  <text x="750" y="130" font-family="Arial" font-size="20" fill="#6b21a8" font-weight="bold" text-anchor="middle">Organization</text>
  
  <!-- Organization Interface -->
  <rect x="650" y="150" width="200" height="280" rx="10" fill="white" stroke="#c4b5fd" stroke-width="2"/>
  
  <!-- Organization Header -->
  <rect x="650" y="150" width="200" height="30" rx="10 10 0 0" fill="#e9d5ff"/>
  <text x="750" y="170" font-family="Arial" font-size="14" fill="#6b21a8" text-anchor="middle">Structure View</text>
  
  <!-- Topic 1 -->
  <rect x="660" y="190" width="180" height="60" rx="5" fill="#f3e8ff"/>
  <text x="670" y="210" font-family="Arial" font-size="12" fill="#6b21a8" font-weight="bold">Topic: ML Pipeline</text>
  <text x="680" y="230" font-family="Arial" font-size="11" fill="#7c3aed">• Key steps paragraph</text>
  <text x="680" y="245" font-family="Arial" font-size="11" fill="#7c3aed">• 40% relevance</text>
  
  <!-- Topic 2 -->
  <rect x="660" y="260" width="180" height="60" rx="5" fill="#f3e8ff"/>
  <text x="670" y="280" font-family="Arial" font-size="12" fill="#6b21a8" font-weight="bold">Topic: Implementation</text>
  <text x="680" y="300" font-family="Arial" font-size="11" fill="#7c3aed">• Example code block</text>
  <text x="680" y="315" font-family="Arial" font-size="11" fill="#7c3aed">• 80% relevance</text>
  
  <!-- Topic 3 -->
  <rect x="660" y="330" width="180" height="60" rx="5" fill="#f3e8ff"/>
  <text x="670" y="350" font-family="Arial" font-size="12" fill="#6b21a8" font-weight="bold">Topic: Optimization</text>
  <text x="680" y="370" font-family="Arial" font-size="11" fill="#7c3aed">• Optimization methods</text>
  <text x="680" y="385" font-family="Arial" font-size="11" fill="#7c3aed">• 60% relevance</text>
  
  <!-- Organization Controls -->
  <rect x="650" y="440" width="200" height="160" rx="10" fill="white" stroke="#c4b5fd" stroke-width="2"/>
  <text x="750" y="465" font-family="Arial" font-size="14" fill="#6b21a8" text-anchor="middle">Organization Controls</text>
  
  <rect x="670" y="485" width="160" height="30" rx="15" fill="#f3e8ff"/>
  <text x="750" y="505" font-family="Arial" font-size="12" fill="#6b21a8" text-anchor="middle">Auto-Categorize</text>
  
  <rect x="670" y="525" width="160" height="30" rx="15" fill="#f3e8ff"/>
  <text x="750" y="545" font-family="Arial" font-size="12" fill="#6b21a8" text-anchor="middle">Adjust Relevance</text>
  
  <rect x="670" y="565" width="160" height="30" rx="15" fill="#f3e8ff"/>
  <text x="750" y="585" font-family="Arial" font-size="12" fill="#6b21a8" text-anchor="middle">Reorder Topics</text>
  
  <!-- Key Benefits -->
  <rect x="630" y="710" width="240" height="80" rx="10" fill="#e9d5ff" stroke="#c4b5fd" stroke-width="2"/>
  <text x="750" y="735" font-family="Arial" font-size="16" fill="#6b21a8" font-weight="bold" text-anchor="middle">Value Add</text>
  <text x="750" y="760" font-family="Arial" font-size="12" fill="#6b21a8" text-anchor="middle">Structured knowledge</text>
  <text x="750" y="780" font-family="Arial" font-size="12" fill="#6b21a8" text-anchor="middle">Prioritization by relevance</text>
  
  <!-- Step 4: Application -->
  <rect x="920" y="100" width="240" height="600" rx="10" fill="#bbf7d0" stroke="#86efac" stroke-width="2"/>
  <text x="1040" y="130" font-family="Arial" font-size="20" fill="#166534" font-weight="bold" text-anchor="middle">Application</text>
  
  <!-- Context Application Interface -->
  <rect x="940" y="150" width="200" height="220" rx="10" fill="white" stroke="#86efac" stroke-width="2"/>
  
  <!-- Application Header -->
  <rect x="940" y="150" width="200" height="30" rx="10 10 0 0" fill="#dcfce7"/>
  <text x="1040" y="170" font-family="Arial" font-size="14" fill="#166534" text-anchor="middle">Active Context</text>
  
  <!-- Context Visualization -->
  <rect x="960" y="190" width="160" height="160" rx="5" fill="#f0fdf4"/>
  
  <!-- Core Circle (high relevance) -->
  <circle cx="1040" cy="270" r="60" fill="#dcfce7" stroke="#166534" stroke-width="1"/>
  <text x="1040" y="260" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">Implementation</text>
  <text x="1040" y="280" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">80%</text>
  
  <!-- Mid Circle (medium relevance) -->
  <circle cx="1040" cy="270" r="90" fill="#f0fdf4" stroke="#166534" stroke-width="1"/>
  <text x="1040" y="205" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">Optimization</text>
  <text x="1040" y="220" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">60%</text>
  
  <!-- Outer Circle (low relevance) -->
  <circle cx="1040" cy="270" r="120" fill="#f0fdf4" stroke="#166534" stroke-width="1" stroke-dasharray="5,5"/>
  <text x="1040" y="320" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">ML Pipeline</text>
  <text x="1040" y="335" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">40%</text>
  
  <!-- Token Usage Visualization -->
  <rect x="940" y="380" width="200" height="160" rx="10" fill="white" stroke="#86efac" stroke-width="2"/>
  <text x="1040" y="405" font-family="Arial" font-size="14" fill="#166534" text-anchor="middle">Token Optimization</text>
  
  <!-- Before Optimization Bar -->
  <text x="960" y="435" font-family="Arial" font-size="12" fill="#334155">Before:</text>
  <rect x="1010" y="425" width="120" height="20" rx="10" fill="#f1f5f9"/>
  <rect x="1010" y="425" width="120" height="20" rx="10" fill="#94a3b8"/>
  <text x="1140" y="438" font-family="Arial" font-size="10" fill="#f1f5f9" text-anchor="end">10,000</text>
  
  <!-- After Optimization Bar -->
  <text x="960" y="465" font-family="Arial" font-size="12" fill="#334155">After:</text>
  <rect x="1010" y="455" width="120" height="20" rx="10" fill="#f1f5f9"/>
  <rect x="1010" y="455" width="24" height="20" rx="10" fill="#4ade80"/>
  <text x="1040" y="468" font-family="Arial" font-size="10" fill="#f1f5f9">1,852</text>
  <text x="1140" y="468" font-family="Arial" font-size="10" fill="#334155" text-anchor="end">10,000</text>
  
  <!-- Token Savings -->
  <text x="960" y="495" font-family="Arial" font-size="12" fill="#334155">Token Savings:</text>
  <text x="1060" y="495" font-family="Arial" font-size="12" fill="#16a34a">81.5%</text>
  
  <text x="960" y="520" font-family="Arial" font-size="12" fill="#334155">Relevance Focus:</text>
  <rect x="1050" y="510" width="60" height="10" rx="5" fill="#e2e8f0"/>
  <rect x="1050" y="510" width="48" height="10" rx="5" fill="#4ade80"/>
  <text x="1120" y="520" font-family="Arial" font-size="12" fill="#16a34a">80%</text>
  
  <!-- Conversation Application -->
  <rect x="940" y="550" width="200" height="120" rx="10" fill="white" stroke="#86efac" stroke-width="2"/>
  <text x="1040" y="575" font-family="Arial" font-size="14" fill="#166534" text-anchor="middle">Conversation Impact</text>
  
  <text x="960" y="605" font-family="Arial" font-size="12" fill="#334155">• More relevant responses</text>
  <text x="960" y="630" font-family="Arial" font-size="12" fill="#334155">• Longer effective history</text>
  <text x="960" y="655" font-family="Arial" font-size="12" fill="#334155">• Reduced hallucinations</text>
  
  <!-- Key Benefits -->
  <rect x="920" y="710" width="240" height="80" rx="10" fill="#dcfce7" stroke="#86efac" stroke-width="2"/>
  <text x="1040" y="735" font-family="Arial" font-size="16" fill="#166534" font-weight="bold" text-anchor="middle">Value Add</text>
  <text x="1040" y="760" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">Token efficiency (81.5% savings)</text>
  <text x="1040" y="780" font-family="Arial" font-size="12" fill="#166534" text-anchor="middle">Relevance-weighted responses</text>
  
  <!-- Workflow Arrows -->
  <!-- Arrow 1 -->
  <polygon points="300,350 330,350 330,330 350,360 330,390 330,370 300,370" fill="#64748b"/>
  <polygon points="340,550 310,550 310,530 290,560 310,590 310,570 340,570" fill="#64748b"/>
  <!-- Arrow 2 -->
  <polygon points="590,350 620,350 620,330 640,360 620,390 620,370 590,370" fill="#64748b"/>
  <polygon points="640,550 610,550 610,530 590,560 610,590 610,570 640,570" fill="#64748b"/>
  
  <!-- Arrow 3 -->
  <polygon points="880,350 910,350 910,330 930,360 910,390 910,370 880,370" fill="#64748b"/>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="60" fill="#1e293b"/>
  <text x="25" y="38" font-family="Arial" font-size="22" fill="white">ContextNexus</text>
  <text x="220" y="38" font-family="Arial" font-size="14" fill="#94a3b8">Advanced Selection Mode</text>
  
  <!-- Status Bar -->
  <rect x="600" y="15" width="200" height="30" rx="15" fill="#334155"/>
  <rect x="610" y="20" width="120" height="20" rx="10" fill="#475569"/>
  <rect x="610" y="20" width="84" height="20" rx="10" fill="#38bdf8"/>
  <text x="670" y="35" font-family="Arial" font-size="12" fill="white" text-anchor="middle">70% selected</text>
  
  <rect x="820" y="15" width="180" height="30" rx="15" fill="#334155"/>
  <text x="910" y="35" font-family="Arial" font-size="12" fill="white" text-anchor="middle">7,021 / 10,000 tokens</text>
  
  <rect x="1020" y="15" width="80" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1060" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply</text>
  
  <circle cx="1140" cy="30" r="20" fill="#38bdf8"/>
  <text x="1140" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Selection Tools Bar -->
  <rect x="0" y="60" width="1200" height="40" fill="#e2e8f0"/>
  
  <!-- Selection Modes -->
  <rect x="20" y="65" width="120" height="30" rx="15" fill="#0ea5e9"/>
  <text x="80" y="85" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Ninja Mode</text>
  
  <rect x="150" y="65" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="210" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Visual Mode</text>
  
  <rect x="280" y="65" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="340" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Smart Select</text>
  
  <!-- Content Filters -->
  <rect x="520" y="65" width="90" height="30" rx="15" fill="#0ea5e9"/>
  <text x="565" y="85" font-family="Arial" font-size="14" fill="white" text-anchor="middle">All</text>
  
  <rect x="620" y="65" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="665" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Code</text>
  
  <rect x="720" y="65" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="765" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Lists</text>
  
  <rect x="820" y="65" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="865" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Images</text>
  
  <rect x="920" y="65" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="965" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">User</text>
  
  <rect x="1020" y="65" width="90" height="30" rx="15" fill="#e2e8f0"/>
  <text x="1065" y="85" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">AI</text>
  
  <!-- Main Content -->
  <rect x="0" y="100" width="850" height="700" fill="#f1f5f9"/>
  
  <!-- Chat Messages UI with Advanced Selection -->
  <!-- User Message 1 -->
  <rect x="20" y="120" width="810" height="100" rx="10" fill="white" stroke="#ddd" stroke-width="1"/>
  
  <!-- Selection Controls -->
  <rect x="20" y="120" width="30" height="100" rx="5 0 0 5" fill="#f8fafc"/>
  <rect x="25" y="130" width="20" height="20" rx="3" fill="#dbeafe"/>
  <text x="35" y="146" font-family="Arial" font-size="18" fill="#0ea5e9" font-weight="bold" text-anchor="middle">✓</text>
  <text x="35" y="160" font-family="Arial" font-size="10" fill="#475569" text-anchor="middle">1</text>
  
  <!-- Message Header -->
  <circle cx="65" cy="140" r="15" fill="#0ea5e9"/>
  <text x="65" y="145" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  <text x="90" y="140" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">You</text>
  <text x="120" y="140" font-family="Arial" font-size="12" fill="#94a3b8">10:15 AM</text>
  
  <!-- Message Content -->
  <text x="65" y="170" font-family="Arial" font-size="14" fill="#334155">I need to analyze a large dataset of customer transactions to identify purchasing patterns and</text>
  <text x="65" y="195" font-family="Arial" font-size="14" fill="#334155">predict future behavior. What machine learning techniques would you recommend?</text>
  
  <!-- Keyboard Shortcut Indicator -->
  <rect x="760" y="130" width="60" height="25" rx="5" fill="#e2e8f0"/>
  <text x="790" y="146" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">Ctrl+1</text>
  
  <!-- AI Message 1 -->
  <rect x="20" y="230" width="810" height="320" rx="10" fill="white" stroke="#ddd" stroke-width="1"/>
  
  <!-- Selection Controls with Paragraph-Level Selection -->
  <rect x="20" y="230" width="30" height="320" rx="5 0 0 5" fill="#f8fafc"/>
  <rect x="25" y="240" width="20" height="20" rx="3" fill="#e2e8f0"/>
  <text x="35" y="270" font-family="Arial" font-size="10" fill="#475569" text-anchor="middle">2</text>
  
  <!-- Paragraph-level selection controls -->
  <rect x="25" y="290" width="20" height="20" rx="3" fill="#dbeafe"/>
  <text x="35" y="306" font-family="Arial" font-size="18" fill="#0ea5e9" font-weight="bold" text-anchor="middle">✓</text>
  <text x="35" y="320" font-family="Arial" font-size="8" fill="#475569" text-anchor="middle">2.1</text>
  
  <rect x="25" y="370" width="20" height="20" rx="3" fill="#dbeafe"/>
  <text x="35" y="386" font-family="Arial" font-size="18" fill="#0ea5e9" font-weight="bold" text-anchor="middle">✓</text>
  <text x="35" y="400" font-family="Arial" font-size="8" fill="#475569" text-anchor="middle">2.2</text>
  
  <rect x="25" y="460" width="20" height="20" rx="3" fill="#e2e8f0"/>
  <text x="35" y="490" font-family="Arial" font-size="8" fill="#475569" text-anchor="middle">2.3</text>
  
  <!-- Message Header -->
  <circle cx="65" cy="250" r="15" fill="#0284c7"/>
  <text x="65" y="255" font-family="Arial" font-size="14" fill="white" text-anchor="middle">AI</text>
  <text x="90" y="250" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Assistant</text>
  <text x="160" y="250" font-family="Arial" font-size="12" fill="#94a3b8">10:16 AM</text>
  
  <!-- Message Content with Visual Selection Indicators -->
  <!-- Introduction Paragraph -->
  <rect x="65" y="275" width="750" height="60" rx="5" opacity="0.2" fill="#bae6fd"/>
  <text x="65" y="295" font-family="Arial" font-size="14" fill="#334155">For analyzing customer transaction data and predicting future behavior, several machine learning</text>
  <text x="65" y="320" font-family="Arial" font-size="14" fill="#334155">approaches can be effective. Let me outline the key techniques and their applications.</text>
  
  <!-- Techniques Section Selected -->
  <rect x="65" y="345" width="750" height="100" rx="5" fill="#bae6fd" opacity="0.3"/>
  <text x="65" y="365" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Recommended ML Techniques:</text>
  <text x="85" y="390" font-family="Arial" font-size="14" fill="#334155">1. Clustering (K-means, DBSCAN) - Identify natural groupings of similar customers</text>
  <text x="85" y="415" font-family="Arial" font-size="14" fill="#334155">2. Classification (Random Forest, XGBoost) - Predict categorical outcomes like churn</text>
  <text x="85" y="440" font-family="Arial" font-size="14" fill="#334155">3. Regression models - Forecast continuous values like future spending</text>
  
  <!-- Implementation Section (Not Selected) -->
  <text x="65" y="470" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Implementation Approach:</text>
  <text x="65" y="495" font-family="Arial" font-size="14" fill="#334155">I recommend starting with exploratory data analysis, then feature engineering before applying</text>
  <text x="65" y="520" font-family="Arial" font-size="14" fill="#334155">these models. This will help identify meaningful patterns in your transaction data.</text>

  <!-- Keyboard Shortcut Indicator -->
  <rect x="760" y="240" width="60" height="25" rx="5" fill="#e2e8f0"/>
  <text x="790" y="256" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">Ctrl+2</text>
  
  <!-- Python Code Message -->
  <rect x="20" y="560" width="810" height="230" rx="10" fill="white" stroke="#ddd" stroke-width="1"/>
  
  <!-- Selection Controls -->
  <rect x="20" y="560" width="30" height="230" rx="5 0 0 5" fill="#f8fafc"/>
  <rect x="25" y="570" width="20" height="20" rx="3" fill="#dbeafe"/>
  <text x="35" y="586" font-family="Arial" font-size="18" fill="#0ea5e9" font-weight="bold" text-anchor="middle">✓</text>
  <text x="35" y="600" font-family="Arial" font-size="10" fill="#475569" text-anchor="middle">3</text>
  
  <!-- Message Header -->
  <circle cx="65" cy="580" r="15" fill="#0284c7"/>
  <text x="65" y="585" font-family="Arial" font-size="14" fill="white" text-anchor="middle">AI</text>
  <text x="90" y="580" font-family="Arial" font-size="14" font-weight="bold" fill="#334155">Code: Customer Clustering Example</text>
  <text x="335" y="580" font-family="Arial" font-size="12" fill="#94a3b8">10:17 AM</text>
  
  <!-- Code Block Selected -->
  <rect x="65" y="600" width="750" height="180" rx="5" fill="#f1f5f9" stroke="#cbd5e0" stroke-width="1"/>
  
  <!-- Code Content -->
  <text x="80" y="625" font-family="Consolas, monospace" font-size="14" fill="#334155">import pandas as pd</text>
  <text x="80" y="650" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.cluster import KMeans</text>
  <text x="80" y="675" font-family="Consolas, monospace" font-size="14" fill="#334155">from sklearn.preprocessing import StandardScaler</text>
  <text x="80" y="700" font-family="Consolas, monospace" font-size="14" fill="#334155"></text>
  <text x="80" y="725" font-family="Consolas, monospace" font-size="14" fill="#334155"># Load and prepare transaction data</text>
  <text x="80" y="750" font-family="Consolas, monospace" font-size="14" fill="#334155">df = pd.read_csv('customer_transactions.csv')</text>
  <text x="80" y="775" font-family="Consolas, monospace" font-size="14" fill="#334155">features = ['frequency', 'recency', 'monetary_value']</text>
  
  <!-- Keyboard Shortcut Indicator -->
  <rect x="760" y="570" width="60" height="25" rx="5" fill="#e2e8f0"/>
  <text x="790" y="586" font-family="Arial" font-size="12" fill="#475569" text-anchor="middle">Ctrl+3</text>
  
  <!-- Right Panel - Context Management -->
  <rect x="850" y="100" width="350" height="700" fill="white" stroke="#ddd" stroke-width="1"/>
  
  <!-- Panel Header -->
  <rect x="850" y="100" width="350" height="50" fill="#f8fafc" stroke-bottom="#e2e8f0" stroke-width="1"/>
  <text x="1025" y="130" font-family="Arial" font-size="16" fill="#334155" font-weight="bold" text-anchor="middle">Context Management</text>
  
  <!-- Selection Stats -->
  <rect x="870" y="160" width="310" height="100" rx="10" fill="#f1f5f9"/>
  <text x="890" y="185" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Current Selection</text>
  <text x="890" y="215" font-family="Arial" font-size="14" fill="#334155">5 items selected (70% of context)</text>
  <text x="890" y="240" font-family="Arial" font-size="14" fill="#334155">Focused on ML techniques and code</text>
  
  <!-- Token Heat Map -->
  <rect x="870" y="270" width="310" height="160" rx="10" fill="#f1f5f9"/>
  <text x="890" y="295" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Token Heat Map</text>
  
  <!-- Heat Map Visualization -->
  <rect x="890" y="315" width="270" height="20" rx="10" fill="#dbeafe"/>
  <text x="905" y="330" font-family="Arial" font-size="12" fill="#0c4a6e">Message 1 (User)</text>
  <text x="1140" y="330" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="end">650 tokens</text>
  
  <rect x="890" y="345" width="270" height="20" rx="10" fill="#93c5fd"/>
  <text x="905" y="360" font-family="Arial" font-size="12" fill="#0c4a6e">Message 2.1 (Intro)</text>
  <text x="1140" y="360" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="end">420 tokens</text>
  
  <rect x="890" y="375" width="270" height="20" rx="10" fill="#60a5fa"/>
  <text x="905" y="390" font-family="Arial" font-size="12" fill="white">Message 2.2 (Techniques)</text>
  <text x="1140" y="390" font-family="Arial" font-size="12" fill="white" text-anchor="end">750 tokens</text>
  
  <rect x="890" y="405" width="270" height="20" rx="10" fill="#dbeafe" opacity="0.3"/>
  <text x="905" y="420" font-family="Arial" font-size="12" fill="#94a3b8">Message 2.3 (Implementation)</text>
  <text x="1140" y="420" font-family="Arial" font-size="12" fill="#94a3b8" text-anchor="end">0 tokens</text>
  
  <rect x="890" y="435" width="270" height="20" rx="10" fill="#2563eb"/>
  <text x="905" y="450" font-family="Arial" font-size="12" fill="white">Message 3 (Code)</text>
  <text x="1140" y="450" font-family="Arial" font-size="12" fill="white" text-anchor="end">910 tokens</text>
  
  <!-- Advanced Selection Tools -->
  <rect x="870" y="440" width="310" height="210" rx="10" fill="#f1f5f9"/>
  <text x="890" y="465" font-family="Arial" font-size="16" fill="#0c4a6e" font-weight="bold">Ninja Selection Tools</text>
  
  <!-- Selection Shortcuts -->
  <rect x="890" y="485" width="270" height="30" rx="5" fill="#dbeafe"/>
  <text x="910" y="505" font-family="Arial" font-size="14" fill="#0c4a6e">Ctrl+Alt+C</text>
  <text x="1010" y="505" font-family="Arial" font-size="14" fill="#0c4a6e">Select All Code Blocks</text>
  
  <rect x="890" y="525" width="270" height="30" rx="5" fill="#dbeafe"/>
  <text x="910" y="545" font-family="Arial" font-size="14" fill="#0c4a6e">Ctrl+Alt+L</text>
  <text x="1010" y="545" font-family="Arial" font-size="14" fill="#0c4a6e">Select All Lists</text>
  
  <rect x="890" y="565" width="270" height="30" rx="5" fill="#dbeafe"/>
  <text x="910" y="585" font-family="Arial" font-size="14" fill="#0c4a6e">Ctrl+I</text>
  <text x="1010" y="585" font-family="Arial" font-size="14" fill="#0c4a6e">Invert Selection</text>
  
  <rect x="890" y="605" width="270" height="30" rx="5" fill="#dbeafe"/>
  <text x="910" y="625" font-family="Arial" font-size="14" fill="#0c4a6e">Alt+R</text>
  <text x="1010" y="625" font-family="Arial" font-size="14" fill="#0c4a6e">Select by Relevance</text>
  
  <!-- Smart Suggestion -->
  <rect x="870" y="660" width="310" height="120" rx="10" fill="#dbeafe"/>
  <text x="890" y="685" font-family="Arial" font-size="16" fill="#1e40af" font-weight="bold">Smart Context Suggestion</text>
  <text x="890" y="715" font-family="Arial" font-size="14" fill="#1e40af">Consider adding the implementation</text>
  <text x="890" y="740" font-family="Arial" font-size="14" fill="#1e40af">section to balance theoretical and</text>
  <text x="890" y="765" font-family="Arial" font-size="14" fill="#1e40af">practical context (+ 280 tokens)</text>
  
  <!-- One-Click Add Button -->
  <rect x="1030" y="730" width="130" height="30" rx="15" fill="#0ea5e9"/>
  <text x="1095" y="750" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Add Section</text>
  
  <!-- Active Selection View - Float at Bottom of Main Panel -->
  <rect x="20" y="720" width="810" height="60" rx="10" fill="#0c4a6e"/>
  <text x="40" y="750" font-family="Arial" font-size="14" fill="white">Active Selection: Message 1, Intro, ML Techniques, Code Block (7,021 tokens) — Space to toggle • Tab to navigate • F to filter</text>
  <rect x="710" y="735" width="100" height="30" rx="15" fill="#0ea5e9"/>
  <text x="760" y="755" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply</text>
</svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="60" fill="#1e293b"/>
  <text x="25" y="38" font-family="Arial" font-size="22" fill="white">ContextNexus</text>
  <text x="220" y="38" font-family="Arial" font-size="14" fill="#94a3b8">Knowledge Graph Explorer</text>
  
  <!-- View Controls -->
  <rect x="600" y="15" width="110" height="30" rx="15" fill="#0ea5e9"/>
  <text x="655" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Graph View</text>
  
  <rect x="720" y="15" width="110" height="30" rx="15" fill="#334155"/>
  <text x="775" y="35" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Tree View</text>
  
  <rect x="840" y="15" width="110" height="30" rx="15" fill="#334155"/>
  <text x="895" y="35" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Matrix View</text>
  
  <rect x="960" y="15" width="110" height="30" rx="15" fill="#334155"/>
  <text x="1015" y="35" font-family="Arial" font-size="14" fill="#94a3b8" text-anchor="middle">Map View</text>
  
  <circle cx="1120" cy="30" r="20" fill="#38bdf8"/>
  <text x="1120" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">VP</text>
  
  <!-- Left Panel - Navigation Controls -->
  <rect x="0" y="60" width="250" height="740" fill="#f1f5f9"/>
  
  <!-- Knowledge Navigation Header -->
  <rect x="0" y="60" width="250" height="50" fill="#e2e8f0"/>
  <text x="20" y="90" font-family="Arial" font-size="16" fill="#334155" font-weight="bold">Knowledge Navigation</text>
  
  <!-- Focus Controls -->
  <rect x="20" y="130" width="210" height="140" rx="10" fill="white" stroke="#cbd5e0" stroke-width="1"/>
  <text x="40" y="155" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Focus Controls</text>
  
  <!-- Focus Slider -->
  <text x="40" y="185" font-family="Arial" font-size="12" fill="#475569">Depth:</text>
  <rect x="90" y="175" width="120" height="10" rx="5" fill="#e2e8f0"/>
  <rect x="90" y="175" width="84" height="10" rx="5" fill="#0ea5e9"/>
  <circle cx="174" cy="180" r="8" fill="white" stroke="#0ea5e9" stroke-width="2"/>
  <text x="220" y="185" font-family="Arial" font-size="12" fill="#475569">3</text>
  
  <!-- Density Slider -->
  <text x="40" y="215" font-family="Arial" font-size="12" fill="#475569">Density:</text>
  <rect x="90" y="205" width="120" height="10" rx="5" fill="#e2e8f0"/>
  <rect x="90" y="205" width="60" height="10" rx="5" fill="#0ea5e9"/>
  <circle cx="150" cy="210" r="8" fill="white" stroke="#0ea5e9" stroke-width="2"/>
  <text x="220" y="215" font-family="Arial" font-size="12" fill="#475569">Medium</text>
  
  <!-- Relevance Slider -->
  <text x="40" y="245" font-family="Arial" font-size="12" fill="#475569">Relevance:</text>
  <rect x="90" y="235" width="120" height="10" rx="5" fill="#e2e8f0"/>
  <rect x="90" y="235" width="96" height="10" rx="5" fill="#0ea5e9"/>
  <circle cx="186" cy="240" r="8" fill="white" stroke="#0ea5e9" stroke-width="2"/>
  <text x="220" y="245" font-family="Arial" font-size="12" fill="#475569">80%</text>
  
  <!-- Filter Controls -->
  <rect x="20" y="290" width="210" height="190" rx="10" fill="white" stroke="#cbd5e0" stroke-width="1"/>
  <text x="40" y="315" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Node Filters</text>
  
  <!-- Filter Options -->
  <rect x="40" y="335" width="170" height="30" rx="5" fill="#dbeafe"/>
  <circle cx="55" cy="350" r="8" fill="#0ea5e9"/>
  <text x="55" y="354" font-family="Arial" font-size="12" fill="white" text-anchor="middle">✓</text>
  <text x="75" y="355" font-family="Arial" font-size="14" fill="#0c4a6e">Machine Learning</text>
  
  <rect x="40" y="375" width="170" height="30" rx="5" fill="#dbeafe"/>
  <circle cx="55" cy="390" r="8" fill="#0ea5e9"/>
  <text x="55" y="394" font-family="Arial" font-size="12" fill="white" text-anchor="middle">✓</text>
  <text x="75" y="395" font-family="Arial" font-size="14" fill="#0c4a6e">Data Analysis</text>
  
  <rect x="40" y="415" width="170" height="30" rx="5" fill="#f1f5f9"/>
  <circle cx="55" cy="430" r="8" fill="white" stroke="#94a3b8" stroke-width="1"/>
  <text x="75" y="435" font-family="Arial" font-size="14" fill="#64748b">User Requirements</text>
  
  <rect x="40" y="455" width="170" height="30" rx="5" fill="#f1f5f9"/>
  <circle cx="55" cy="470" r="8" fill="white" stroke="#94a3b8" stroke-width="1"/>
  <text x="75" y="475" font-family="Arial" font-size="14" fill="#64748b">Implementation</text>
  
  <!-- History Controls -->
  <rect x="20" y="500" width="210" height="130" rx="10" fill="white" stroke="#cbd5e0" stroke-width="1"/>
  <text x="40" y="525" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Navigation History</text>
  
  <!-- History Entries -->
  <rect x="40" y="545" width="170" height="25" rx="5" fill="#f1f5f9"/>
  <text x="50" y="562" font-family="Arial" font-size="12" fill="#64748b">ML Techniques Overview</text>
  
  <rect x="40" y="575" width="170" height="25" rx="5" fill="#dbeafe"/>
  <text x="50" y="592" font-family="Arial" font-size="12" fill="#0c4a6e">Customer Analysis Focus</text>
  
  <rect x="40" y="605" width="170" height="25" rx="5" fill="#f1f5f9"/>
  <text x="50" y="622" font-family="Arial" font-size="12" fill="#64748b">Initial Conversation</text>
  
  <!-- Bookmarks -->
  <rect x="20" y="650" width="210" height="130" rx="10" fill="white" stroke="#cbd5e0" stroke-width="1"/>
  <text x="40" y="675" font-family="Arial" font-size="14" fill="#0c4a6e" font-weight="bold">Saved Views</text>
  
  <!-- Saved Views -->
  <rect x="40" y="695" width="170" height="25" rx="5" fill="#bae6fd"/>
  <text x="50" y="712" font-family="Arial" font-size="12" fill="#0c4a6e">ML Algorithm Comparison</text>
  
  <rect x="40" y="725" width="170" height="25" rx="5" fill="#bae6fd"/>
  <text x="50" y="742" font-family="Arial" font-size="12" fill="#0c4a6e">Customer Segmentation</text>
  
  <rect x="40" y="755" width="170" height="25" rx="5" fill="#bae6fd"/>
  <text x="50" y="772" font-family="Arial" font-size="12" fill="#0c4a6e">+ Create New View</text>
  
  <!-- Main Graph Visualization Area -->
  <rect x="250" y="60" width="950" height="740" fill="white"/>
  
  <!-- Graph Controls -->
  <rect x="250" y="60" width="950" height="50" fill="#f8fafc"/>
  
  <!-- Zoom Controls -->
  <rect x="270" y="70" width="40" height="30" rx="5" fill="#e2e8f0"/>
  <text x="290" y="90" font-family="Arial" font-size="18" fill="#475569" text-anchor="middle">−</text>
  
  <rect x="320" y="70" width="40" height="30" rx="5" fill="#e2e8f0"/>
  <text x="340" y="90" font-family="Arial" font-size="18" fill="#475569" text-anchor="middle">+</text>
  
  <rect x="370" y="70" width="80" height="30" rx="5" fill="#e2e8f0"/>
  <text x="410" y="90" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Reset</text>
  
  <!-- Search Bar -->
  <rect x="650" y="70" width="250" height="30" rx="15" fill="white" stroke="#cbd5e0" stroke-width="1"/>
  <text x="670" y="90" font-family="Arial" font-size="14" fill="#94a3b8">Search knowledge nodes...</text>
  
  <!-- Action Buttons -->
  <rect x="920" y="70" width="120" height="30" rx="15" fill="#0ea5e9"/>
  <text x="980" y="90" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Branch View</text>
  
  <rect x="1050" y="70" width="130" height="30" rx="15" fill="#e2e8f0"/>
  <text x="1115" y="90" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Export Graph</text>
  
  <!-- Central Graph Visualization -->
  <!-- Main nodes and connections representing knowledge structure -->
  
  <!-- Central Node: Customer Analysis -->
  <circle cx="650" cy="390" r="60" fill="#0ea5e9" opacity="0.9"/>
  <text x="650" y="380" font-family="Arial" font-size="16" fill="white" text-anchor="middle">Customer</text>
  <text x="650" y="400" font-family="Arial" font-size="16" fill="white" text-anchor="middle">Analysis</text>
  <text x="650" y="420" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Core Topic</text>
  
  <!-- Primary Connected Nodes -->
  <!-- Node: Machine Learning -->
  <circle cx="500" cy="240" r="50" fill="#3b82f6" opacity="0.9"/>
  <text x="500" y="235" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Machine</text>
  <text x="500" y="255" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Learning</text>
  <line x1="530" y1="280" x2="620" y2="345" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Node: Data Preprocessing -->
  <circle cx="350" cy="390" r="45" fill="#60a5fa" opacity="0.9"/>
  <text x="350" y="385" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Data</text>
  <text x="350" y="405" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Preprocessing</text>
  <line x1="395" y1="390" x2="590" y2="390" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Node: Visualization -->
  <circle cx="500" cy="540" r="45" fill="#93c5fd" opacity="0.9"/>
  <text x="500" y="540" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Visualization</text>
  <line x1="530" y1="505" x2="620" y2="435" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Node: Predictive Models -->
  <circle cx="800" cy="240" r="50" fill="#3b82f6" opacity="0.9"/>
  <text x="800" y="235" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Predictive</text>
  <text x="800" y="255" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Models</text>
  <line x1="770" y1="280" x2="680" y2="345" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Node: Customer Segments -->
  <circle cx="950" cy="390" r="45" fill="#60a5fa" opacity="0.9"/>
  <text x="950" y="385" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Customer</text>
  <text x="950" y="405" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Segments</text>
  <line x1="905" y1="390" x2="710" y2="390" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Node: Business Insights -->
  <circle cx="800" cy="540" r="45" fill="#93c5fd" opacity="0.9"/>
  <text x="800" y="535" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Business</text>
  <text x="800" y="555" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Insights</text>
  <line x1="770" y1="505" x2="680" y2="435" stroke="#94a3b8" stroke-width="3"/>
  
  <!-- Secondary Nodes (smaller, connected to primary nodes) -->
  <!-- Connected to Machine Learning -->
  <circle cx="400" cy="170" r="35" fill="#bae6fd" opacity="0.9"/>
  <text x="400" y="170" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="middle">Algorithms</text>
  <line x1="430" y1="195" x2="470" y2="215" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="515" cy="150" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="515" y="150" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="middle">Clustering</text>
  <line x1="511" y1="180" x2="505" y2="210" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Connected to Data Preprocessing -->
  <circle cx="260" cy="350" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="260" y="350" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">Cleaning</text>
  <line x1="290" y1="360" x2="315" y2="375" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="260" cy="450" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="260" y="450" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">Features</text>
  <line x1="285" y1="435" x2="320" y2="410" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Connected to Predictive Models -->
  <circle cx="800" cy="150" r="30" fill="#bae6fd" opacity="0.9"/>
  <text x="800" y="150" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="middle">XGBoost</text>
  <line x1="800" y1="180" x2="800" y2="210" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="700" cy="170" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="700" y="170" font-family="Arial" font-size="12" fill="#0c4a6e" text-anchor="middle">Neural Nets</text>
  <line x1="725" y1="190" x2="770" y2="220" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Connected to Customer Segments -->
  <circle cx="1030" cy="330" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="1030" y="330" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">Loyalty</text>
  <line x1="1005" y1="350" x2="975" y2="370" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="1050" cy="390" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="1050" y="390" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">RFM</text>
  <line x1="1020" y1="390" x2="995" y2="390" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="1030" cy="450" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="1030" y="450" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">Churn</text>
  <line x1="1005" y1="430" x2="975" y2="410" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Connected to Visualization -->
  <circle cx="420" cy="590" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="420" cy="590" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">Dashboards</text>
  <line x1="445" y1="570" x2="480" y2="550" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="510" cy="630" r="25" fill="#bae6fd" opacity="0.7"/>
  <text x="510" y="630" font-family="Arial" font-size="10" fill="#0c4a6e" text-anchor="middle">Charts</text>
  <line x1="510" y1="605" x2="505" y2="565" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Connected to Business Insights -->
  <circle cx="870" cy="590" r="30" fill="#bae6fd" opacity="0.8"/>
  <text x="870" cy="590" font-family="Arial" font-size="11" fill="#0c4a6e" text-anchor="middle">ROI</text>
  <line x1="850" y1="570" x2="815" y2="550" stroke="#94a3b8" stroke-width="2"/>
  
  <circle cx="770" cy="630" r="25" fill="#bae6fd" opacity="0.7"/>
  <text x="770" cy="630" font-family="Arial" font-size="10" fill="#0c4a6e" text-anchor="middle">Strategy</text>
  <line x1="775" y1="605" x2="790" y2="565" stroke="#94a3b8" stroke-width="2"/>
  
  <!-- Active Node Selection (highlighting the currently selected node) with orange highlight -->
  <circle cx="500" cy="240" r="55" fill="none" stroke="#f97316" stroke-width="3" stroke-dasharray="5,3"/>
  
  <!-- Context Panel (floating information about selected node) with orange styling -->
  <rect x="850" y="120" width="300" height="120" rx="10" fill="white" stroke="#f97316" stroke-width="2" filter="drop-shadow(0 4px 3px rgb(0 0 0 / 0.07))"/>
  <text x="870" y="145" font-family="Arial" font-size="16" fill="#f97316" font-weight="bold">Machine Learning</text>
  <text x="870" y="170" font-family="Arial" font-size="13" fill="#334155">Applied techniques for pattern discovery</text>
  <text x="870" y="190" font-family="Arial" font-size="13" fill="#334155">Connected to 5 other nodes</text>
  <text x="870" y="210" font-family="Arial" font-size="13" fill="#334155">3 messages in conversation, 1,240 tokens</text>
  
  <rect x="555" y="175" width="80" height="30" rx="15" fill="#f97316"/>
  <text x="595" y="195" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Focus</text>
  
  <!-- Node Manipulation Tools (appears on hover/selection) -->
  <rect x="400" y="270" width="200" height="40" rx="20" fill="#f1f5f9" filter="drop-shadow(0 4px 3px rgb(0 0 0 / 0.07))"/>
  <rect x="415" y="280" width="20" height="20" rx="3" fill="#dbeafe"/>
  <text x="425" y="296" font-family="Arial" font-size="18" fill="#0ea5e9" font-weight="bold" text-anchor="middle">✓</text>
  <text x="455" y="296" font-family="Arial" font-size="13" fill="#0c4a6e">Add to Context</text>
  
  <text x="570" y="296" font-family="Arial" font-size="13" fill="#0c4a6e">▼</text>
  
  <!-- Advanced Context Controls (Bottom of Screen) -->
  <rect x="250" y="740" width="950" height="60" fill="#f8fafc"/>
  
  <!-- Context Summary -->
  <text x="270" y="775" font-family="Arial" font-size="14" fill="#334155">Current Focus: Customer Analysis with ML Techniques • 3 primary nodes • 8 related nodes • 3,240 tokens</text>
  
  <!-- Action Buttons -->
  <rect x="800" y="755" width="120" height="30" rx="15" fill="#0ea5e9"/>
  <text x="860" y="775" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Apply Context</text>
  
  <rect x="930" y="755" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="990" y="775" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Save View</text>
  
  <rect x="1060" y="755" width="120" height="30" rx="15" fill="#e2e8f0"/>
  <text x="1120" y="775" font-family="Arial" font-size="14" fill="#475569" text-anchor="middle">Share Graph</text>
  
  <!-- Minimap (bottom right) -->
  <rect x="1050" y="630" width="120" height="100" rx="10" fill="#f1f5f9" stroke="#cbd5e0" stroke-width="1"/>
  <circle cx="1080" cy="655" r="3" fill="#0ea5e9"/>
  <circle cx="1100" cy="680" r="3" fill="#0ea5e9"/>
  <circle cx="1120" cy="650" r="3" fill="#0ea5e9"/>
  <circle cx="1130" cy="700" r="3" fill="#0ea5e9"/>
  <circle cx="1090" cy="710" r="3" fill="#0ea5e9"/>
  <circle cx="1070" cy="690" r="3" fill="#0ea5e9"/>
  <rect x="1070" cy="645" width="40" height="30" rx="5" fill="#0ea5e9" opacity="0.3" stroke="#0ea5e9" stroke-width="1"/>
</svg>